(this["webpackJsonpdcfck-app"]=this["webpackJsonpdcfck-app"]||[]).push([[15,3],{807:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),c=a.n(n),r=a(792),l=a(873),o=a(307),s=a(826),i=a.n(s);function u(e){var t=e.open,a=e.msg,n=e.onClose,s=e.severity,u=void 0===s?"info":s;return c.a.createElement(l.a,{open:t,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:n},c.a.createElement(r.a,{severity:u,variant:"filled",action:c.a.createElement(o.a,{size:"small","aria-label":"close",color:"inherit"},c.a.createElement(i.a,{fontSize:"small"}))},a))}},815:function(e,t,a){var n={"./ActionChecklistTip":[808,4],"./ActionChecklistTip.tsx":[808,4],"./CFCanvasTip":[809,5],"./CFCanvasTip.tsx":[809,5],"./ChangeLevers":[810,6],"./ChangeLevers.tsx":[810,6],"./ClientListTips":[811,7],"./ClientListTips.tsx":[811,7],"./CoachingKitTips":[812,8],"./CoachingKitTips.tsx":[812,8],"./DiscoverTopicsTips":[813,9],"./DiscoverTopicsTips.tsx":[813,9],"./HCQuestionnaire":[814,10],"./HCQuestionnaire.tsx":[814,10],"./style":[806,11],"./style.ts":[806,11]};function c(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],c=t[0];return a.e(t[1]).then((function(){return a(c)}))}c.keys=function(){return Object.keys(n)},c.id=815,e.exports=c},816:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(16),c=a(0),r=a.n(c),l=a(840),o=a(803),s=a(733),i=a(73),u=a(753),m=a(243),b=a.n(m),d=a(375),f=a.n(d),v=a(139),O=Object(v.a)((function(e){return{root:{position:"fixed",left:e.spacing(2),bottom:e.spacing(2)},icon:{marginRight:e.spacing(1)},drawer:{padding:e.spacing(2),maxWidth:"350px",width:"100%"},closeBox:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2),paddingBottom:e.spacing(2),borderBottom:1,borderBottomColor:e.palette.grey[500],borderBottomStyle:"solid"}}})),p=a(48),h=a(173),j=Object(p.a)((function(e){return a(815)("./".concat(e.tip))}),{fallback:r.a.createElement(h.a,null)}),g=function(e){var t=e.tip,a=O(),m=Object(c.useState)(!1),d=Object(n.a)(m,2),v=d[0],p=d[1],h=function(e){return function(t){t instanceof KeyboardEvent&&"keydown"===t.type&&("Tab"===t.key||"Shift"===t.key)||p(e)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.root},r.a.createElement(l.a,{color:"secondary",onClick:h(!0),variant:"extended"},r.a.createElement(b.a,{className:a.icon}),"Tips")),r.a.createElement(o.a,{anchor:"left",open:v,onClose:h(!1),classes:{paper:a.drawer}},r.a.createElement(s.a,{className:a.closeBox},r.a.createElement(i.a,{variant:"h6"},"Tips"),r.a.createElement(u.a,{onClick:h(!1),startIcon:r.a.createElement(f.a,null)},"Close")),r.a.createElement(j,{tip:t})))}},817:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),c=a.n(n),r=a(173);function l(e){var t=e.children;return e.if?c.a.createElement(c.a.Fragment,null,t):c.a.createElement(r.a,null)}},818:function(e,t,a){"use strict";function n(e,t){return new Array(e).fill(t)}a.d(t,"a",(function(){return n}))},821:function(e,t,a){"use strict";var n=a(807);a.d(t,"a",(function(){return n.a}))},825:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var n=a(841),c=a(245),r={canvasTitle:"",canvasType:"review",canvasTimeFrame:"quaterly",canvasStartDate:new Date,canvasEndDate:Object(c.a)(new Date,"quaterly"),openingBalance:0,paygWithholding:0,superAmount:0,incomeTax:25,cashToOwner:0,stock:0,creditors:0,debtors:0,assets:0,loans:0,cashInItems:[Object(n.a)()],cashOutItems:[Object(n.a)()]},l=a(379);var o=function(e){return{gstOnSales:Object(l.b)(e.cashInItems),closingBalance:Object(l.e)(e),gstOnPurchases:Object(l.b)(e.cashOutItems),totalNetAssets:Object(l.h)(e),cashSurplus:Object(l.d)(e),availableToSpend:Object(l.a)(e),incomeTaxPercentage:Object(l.f)(e)}}},827:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return i})),a.d(t,"b",(function(){return u}));var n=a(5),c=a(330),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return{margin:t,columns:[e]}},l=function(){return{pageSize:"A4",pageMargins:[0,0,0,25],footer:{columns:[{text:"Created on the ".concat(Object(c.a)(new Date,"do 'of' MMMM yyyy")),alignment:"center",fontSize:12,color:"#333"}]}}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{table:{widths:["*"],body:[[e]]},style:t}},s=function(e){var t=o(r(e),["pageHeader"]);return Object(n.a)(Object(n.a)({},t),{},{layout:"noBorders"})},i=function(e){return r(e,20)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{table:{widths:["75%","*"],body:e},style:t,layout:"noBorders"}}},833:function(e,t,a){"use strict";a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return v})),a.d(t,"b",(function(){return O})),a.d(t,"a",(function(){return p}));var n=a(18),c=a.n(n),r=a(29),l=a(329),o=a(210),s=a(45),i=a(70),u=a(37),m=a(228),b=a(21);function d(e){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,o.a.findByClient(t);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return function(e,t){return e.concat({value:t.id||-1,label:Object(s.i)(t)})}}function O(e,t,a,n){var c=e.filter(Object(i.a)(n))[0];return c?0===a?Object(l.a)(t[1].canvasStartDate,c.canvasStartDate)?[t[1],c]:[c,t[1]]:Object(l.a)(c.canvasStartDate,t[0].canvasStartDate)?[c,t[0]]:[t[0],c]:t}function p(e,t){if(0===t)return"N/A";var a=(e-t)/t*100;return Object(b.e)(u.d,u.c,Object(m.a)("%"))("".concat(a))}},838:function(e,t,a){"use strict";var n=a(839);t.a=function(e){var t=Object(n.a)();"ie"!==(null===t||void 0===t?void 0:t.name)&&"edge"!==(null===t||void 0===t?void 0:t.name)?e.open():e.download()}},841:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(373);function c(){return{id:Object(n.a)(),description:"",amount:0,gstApplicable:!0}}},843:function(e,t,a){"use strict";var n=a(18),c=a.n(n),r=a(5),l=a(29),o=a(46),s=a(831),i=a.n(s),u=a(832),m=a.n(u),b=a(239),d=a(330),f=a(827),v=a(379),O=a(825),p=a(45),h=a(265);i.a.vfs=m.a.pdfMake.vfs;var j=function(e){return"$".concat(e.toString())},g=function(e){return Object(f.c)(Object(f.b)([["Opening Balance",{text:j(e),style:["rightAlign"]}]]))},E=function(e,t){return Object(f.c)([{text:"Cash IN",bold:!0},Object(f.b)([].concat(Object(o.a)(e.map((function(e){return[e.description,{text:j(e.amount),style:["rightAlign"]}]}))),[["Total (Exc GST)",{text:j(t),style:["rightAlign"]}]]))])},C=function(e,t){return Object(f.c)([{text:"Cash OUT",bold:!0},Object(f.b)([].concat(Object(o.a)(e.map((function(e){return[e.description,{text:j(e.amount),style:["rightAlign"]}]}))),[["Total (Exc GST)",{text:j(t),style:["rightAlign"]}]]))])},y=function(e,t,a){return Object(f.c)(Object(f.b)([["GST on Purchases",{text:j(e),style:["rightAlign"]}],["PAYG Withholding",{text:j(t),style:["rightAlign"]}],["Super",{text:j(a),style:["rightAlign"]}]],["yellowBlock"]))},x=function(e){return Object(f.c)(Object(f.b)([["Cash Surplus",{text:j(e),style:["rightAlign"]}]]))},T=function(e){return Object(f.c)(Object(f.b)([["Income/Company Tax",{text:j(e),style:["rightAlign"]}]],["yellowBlock"]))},w=function(e){return Object(f.c)(Object(f.b)([["Available to spend",{text:j(e),style:["rightAlign"]}]]))},S=function(e,t){return Object(f.c)([{text:"Your Closing Cash Balance",bold:!0},Object(f.b)([["Cash to owner",{text:j(e),style:["rightAlign"]}],["Closing balance",{text:j(t),style:["rightAlign"]}]])])},k=function(e,t,a,n,c,r){return Object(f.c)([{text:"Your net asset position",bold:!0},Object(f.b)([["Stocks",{text:j(e),style:["rightAlign"]}],["Creditors",{text:j(t),style:["rightAlign"]}],["Debtors",{text:j(a),style:["rightAlign"]}],["Assets",{text:j(n),style:["rightAlign"]}],["Loans",{text:j(c),style:["rightAlign"]}],[{text:"Total net assets",bold:!0},{text:j(r),style:["rightAlign"]}]])])};t.a=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,l,o,s,u,m,I,A,B,D,N,F,P,L,M,G,V,z,R,W,H,J;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.openingBalance,l=a.cashInItems,o=a.cashOutItems,s=a.paygWithholding,u=a.superAmount,m=a.incomeTax,I=a.cashToOwner,A=a.stock,B=a.creditors,D=a.debtors,N=a.assets,F=a.loans,P=Object(v.c)(l),L=Object(v.b)(l),M=Object(v.g)(a),G=Object(v.b)(o),V=Object(O.a)(a),z=V.cashSurplus,R=V.availableToSpend,W=V.closingBalance,H=V.totalNetAssets,J=Object(r.a)(Object(r.a)({},Object(f.d)()),{},{content:[Object(f.e)("".concat(t," - CANVAS - ").concat(Object(p.i)(a))),Object(f.f)([Object(f.c)({table:{widths:["25%","25%","25%","25%"],body:[[[{text:"Canvas Type",bold:!0},Object(h.a)(a.canvasType)],[{text:"Time-frame",bold:!0},Object(h.a)(a.canvasTimeFrame)],[{text:"Start date",bold:!0},"".concat(Object(d.a)(a.canvasStartDate,"dd/MM/yyyy"))],[{text:"End date",bold:!0},"".concat(Object(d.a)(a.canvasEndDate,"dd/MM/yyyy"))]]]},layout:"noBorders"})," ",g(n),{table:{widths:["60%","*"],body:[[E(l,P),(c=L,Object(f.c)(Object(f.b)([["GST on Sales",{text:j(c),style:["rightAlign"]}]],["yellowBlock"])))],[C(o,M),y(G,s,u)],[x(z),T(m)],[w(R),{}],[S(I,W),{}],[k(A,B,D,N,F,H),{}]]},layout:"noBorders"}])],styles:{pageHeader:{fontSize:20,bold:!0,fillColor:b.a[800],color:"white",alignment:"center"},rightAlign:{alignment:"right"},yellowBlock:{fillColor:"yellow"}},defaultStyle:{fontSize:15,bold:!1}}),e.abrupt("return",i.a.createPdf(J));case 9:case"end":return e.stop()}var c}),e)})));return function(t,a){return e.apply(this,arguments)}}()},844:function(e,t,a){"use strict";var n=a(36),c=a(139),r=Object(c.a)((function(e){return{box:Object(n.a)({display:"flex",justifyContent:"flex-end",alignItems:"center"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"flex-start"}),saveButton:Object(n.a)({},e.breakpoints.up("md"),{marginLeft:e.spacing(1)})}}));t.a=r},846:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),c=a.n(n),r=a(73),l=a(39),o=a(12);function s(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.a,{variant:"h6"},"No canvas data found"),c.a.createElement(r.a,null,"Check that you have the correct"," ",c.a.createElement(l.b,{to:o.a.ClientList},"client selected")," or"," ",c.a.createElement(l.b,{to:Object(o.c)(o.a.CFC,[[":id?",""]])},"start a new canvas"),"."))}},848:function(e,t,a){"use strict";a.d(t,"b",(function(){return K})),a.d(t,"a",(function(){return ce}));var n=a(18),c=a.n(n),r=a(29),l=a(16),o=a(0),s=a.n(o),i=a(759),u=a(246),m=a(329),b=a(768),d=a(73),f=a(796),v=a(248),O=a.n(v),p=a(267),h=a(833),j=a(36),g=a(139),E=Object(g.a)((function(e){return{compareLabel:{display:"flex",alignItems:"center"},compareTooltip:{marginLeft:e.spacing(1)},cell1:{width:"20%"},cellCanvas:{width:"25%"},cellDifference:{width:"15%"},tableRow:{"&:hover":{background:e.palette.grey[100]}},noBorderBottom:{borderBottom:"none"},table:Object(j.a)({},e.breakpoints.down("md"),{minWidth:e.breakpoints.values.md}),to:Object(j.a)({},e.breakpoints.down("md"),{marginTop:-e.spacing(1),marginBottom:-e.spacing(1)})}})),C=a(792);function y(){return s.a.createElement(C.a,{severity:"warning"},"The two selected canvases are in different time-frames. The calculations will not be accurate.")}function x(e){var t=Object(l.a)(e.selectedCanvases,2),a=t[0],n=t[1],c=e.allCanvases,r=e.changeSelected,i=E(),u=Object(o.useMemo)((function(){return c.reduce(Object(h.d)(),[])}),[c]),m=function(e){return function(t){r(e,t.target.value)}};return s.a.createElement(b.a,{container:!0,spacing:2,alignItems:"center"},s.a.createElement(b.a,{item:!0,xs:12,md:3},s.a.createElement(d.a,{variant:"h6",className:i.compareLabel},"Compare",s.a.createElement(f.a,{title:"The canvas with the later date will always move to the \u2018left-side\u2019 of the comparison",className:i.compareTooltip},s.a.createElement(O.a,{color:"primary"})))),s.a.createElement(b.a,{item:!0,xs:12,md:4},s.a.createElement(p.a,{name:"left-side-compare",label:"Canvas",value:(null===a||void 0===a?void 0:a.id)||-1,onChange:m(0),options:u})),s.a.createElement(b.a,{item:!0,xs:12,md:1,className:i.to},s.a.createElement(d.a,{align:"center",variant:"overline",component:"p"},"to")),s.a.createElement(b.a,{item:!0,xs:12,md:4},s.a.createElement(p.a,{name:"right-side-compare",label:"Canvas",value:(null===n||void 0===n?void 0:n.id)||-1,onChange:m(1),options:u})),a.canvasTimeFrame!==n.canvasTimeFrame&&s.a.createElement(b.a,{item:!0,xs:12},s.a.createElement(y,null)))}var T=a(75),w=a(888),S=a(889),k=a(890),I=a(887),A=a(885),B=a(886),D=a(45),N=s.a.memo((function(e){var t=Object(l.a)(e.selectedCanvases,2),a=t[0],n=t[1],c=E();return s.a.createElement(A.a,null,s.a.createElement(B.a,null,s.a.createElement(I.a,{className:c.cell1},s.a.createElement("span",{className:"MuiTypography-srOnly"},"Cash category")),s.a.createElement(I.a,{className:c.cellCanvas},Object(D.i)(a)),s.a.createElement(I.a,{className:c.cellCanvas},Object(D.i)(n)),s.a.createElement(I.a,{className:c.cellDifference},"$ Difference"),s.a.createElement(I.a,{className:c.cellDifference},"% Difference")))})),F=a(37);function P(e){var t=Object(l.a)(e.values,2),a=t[0],n=t[1],c=e.label,r=e.bold,o=void 0!==r&&r,i=e.border,u=void 0===i||i,m=E();return s.a.createElement(B.a,{className:m.tableRow},s.a.createElement(I.a,{className:u?"":m.noBorderBottom,variant:o?"head":"body"},c||""),s.a.createElement(I.a,{className:u?"":m.noBorderBottom,variant:o?"head":"body"},Object(F.b)("".concat(a))),s.a.createElement(I.a,{className:u?"":m.noBorderBottom,variant:o?"head":"body"},Object(F.b)("".concat(n))),s.a.createElement(I.a,{className:u?"":m.noBorderBottom,variant:o?"head":"body"},Object(F.a)(Object(F.b)("".concat(a-n)))),s.a.createElement(I.a,{className:u?"":m.noBorderBottom,variant:o?"head":"body"},Object(h.a)(a,n)))}var L=a(825),M=a(379),G=a(818),V=a(245);function z(e){var t=e.selectedCanvases,a=E(),n=Object(o.useMemo)((function(){return Object(L.a)(t[0])}),[t]),c=Object(o.useMemo)((function(){return Object(L.a)(t[1])}),[t]);function r(e,t){var a=e.length>t.length?e.length:t.length;return Object(G.a)(a,0).map((function(n,c){var r,l,o,i;return s.a.createElement(P,{key:(null===(r=e[c])||void 0===r?void 0:r.id)||(null===(l=t[c])||void 0===l?void 0:l.id)||Object(V.b)(),values:[(null===(o=e[c])||void 0===o?void 0:o.amount)||0,(null===(i=t[c])||void 0===i?void 0:i.amount)||0],border:c>=a-1})}))}return s.a.createElement(w.a,null,s.a.createElement(S.a,{className:a.table},s.a.createElement(N,{selectedCanvases:t}),s.a.createElement(k.a,null,s.a.createElement(P,{bold:!0,label:"Opening Balance",values:[t[0].openingBalance,t[1].openingBalance]}),s.a.createElement(I.a,{colSpan:5,variant:"head",className:a.noBorderBottom},"Cash IN"),r(t[0].cashInItems,t[1].cashInItems),s.a.createElement(P,{label:"GST on sales",values:[n.gstOnSales,c.gstOnSales]}),s.a.createElement(P,{bold:!0,label:"Total (exc GST)",values:[Object(M.c)(t[0].cashInItems),Object(M.c)(t[1].cashInItems)]}),s.a.createElement(I.a,{colSpan:5,variant:"head",className:a.noBorderBottom},"Cash OUT"),r(t[0].cashOutItems,t[1].cashOutItems),s.a.createElement(P,{label:"GST on Purchases",values:[n.gstOnPurchases,c.gstOnPurchases]}),s.a.createElement(P,{bold:!0,label:"Total (exc GST)",values:[Object(M.c)(t[0].cashOutItems),Object(M.c)(t[1].cashOutItems)]}),s.a.createElement(P,{bold:!0,label:"Cash Surplus",values:[n.cashSurplus,c.cashSurplus]}),s.a.createElement(P,{label:"Income/Company Tax",values:[n.incomeTaxPercentage,c.incomeTaxPercentage]}),s.a.createElement(P,{bold:!0,label:"Available to spend",values:[n.availableToSpend,c.availableToSpend]}),s.a.createElement(P,{label:"Cash to Owner",values:[t[0].cashToOwner,t[1].cashToOwner]}),s.a.createElement(P,{bold:!0,label:"Closing balance",values:[n.closingBalance,c.closingBalance]}),s.a.createElement(P,{label:"Stock",values:[t[0].stock,t[1].stock]}),s.a.createElement(P,{label:"Debtors",values:[t[0].debtors,t[1].debtors]}),s.a.createElement(P,{label:"Assets",values:[t[0].assets,t[1].assets]}),s.a.createElement(P,{label:"Creditors",values:[t[0].creditors,t[1].creditors]}),s.a.createElement(P,{label:"Loans",values:[t[0].loans,t[1].loans]}),s.a.createElement(P,{bold:!0,label:"Net Position",values:[n.totalNetAssets,c.totalNetAssets]}))))}var R=a(386),W=a(846),H=a(173),J=a(115),U=a(39),Q=a(12);function q(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{variant:"h6"},"You don't have enough canvases created"),s.a.createElement(d.a,null,"To continue, you'll need at least 2 canvases created. ",s.a.createElement("br",null)," Check that you have the correct"," ",s.a.createElement(U.b,{to:Q.a.ClientList},"client selected")," or"," ",s.a.createElement(U.b,{to:Object(Q.c)(Q.a.CFC,[[":id?",""]])},"start a new canvas"),"."))}var Y=a(174),$=a(134);function K(){var e=Object(o.useContext)(Y.a).dispatch,t=Object(u.useMachine)(R.a),a=Object(l.a)(t,2),n=a[0],b=a[1],d=Object(J.a)(),f=Object(l.a)(d,2),v=f[0],O=f[1],p=Object(o.useState)([]),j=Object(l.a)(p,2),g=j[0],E=j[1],C=Object(o.useState)(),y=Object(l.a)(C,2),w=y[0],S=y[1];Object(o.useEffect)((function(){var t=null===w||void 0===w?void 0:w[0],a=null===w||void 0===w?void 0:w[1];if(t&&a){var n=Object(L.a)(t),c=Object(L.a)(a);e({type:$.a.ChangeQuestionValues,payload:{one:Object(D.f)(n),two:Object(D.h)(n,t.paygWithholding,t.superAmount,t.incomeTax),three:Object(D.g)(t.openingBalance,n,t.incomeTax),four:Object(D.e)(n,c)}}),e({type:$.a.ChangeCompare,payload:{left:t,right:a}})}}),[w,e]);var k=Object(o.useCallback)(Object(r.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(null===v||void 0===v?void 0:v.id);case 2:t=e.sent,E(t),t.length>=2&&(a=t[0],n=t[1],S(Object(m.a)(a.canvasStartDate,n.canvasStartDate)?[a,n]:[n,a])),b(t.length<2?"REJECT":"RESOLVE");case 6:case"end":return e.stop()}}),e)}))),[v,b]);function I(e,t){if(w){var a=Object(h.b)(g,w,e,t);S(a)}}return Object(o.useEffect)((function(){O&&k()}),[O,k]),function(){switch(n.value){case"failure":return 1===g.length?s.a.createElement(q,null):s.a.createElement(W.a,null);case"success":return s.a.createElement(s.a.Fragment,null,s.a.createElement(x,{selectedCanvases:w,allCanvases:g,changeSelected:I}),s.a.createElement(T.a,null),s.a.createElement(i.a,null),s.a.createElement(T.a,null),s.a.createElement(z,{selectedCanvases:w}));case"loading":default:return s.a.createElement(H.a,null)}}()}var _=a(857),X=a.n(_),Z=a(47),ee=a(730),te=a(785),ae=a(778),ne=a(210);function ce(){var e=Object(Z.f)(),t=Object(o.useState)(0),a=Object(l.a)(t,2),n=a[0],i=a[1],u=Object(Z.h)().id,m=Object(J.a)(),b=Object(l.a)(m,2),d=b[0],f=b[1],v=Object(o.useCallback)(Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===d||void 0===d?void 0:d.id)){e.next=5;break}return e.next=3,ne.a.countClientRecords(d.id);case 3:t=e.sent,i(t);case 5:case"end":return e.stop()}}),e)}))),[d,i]);Object(o.useEffect)((function(){f&&v()}),[f,v,u]);var O;return n<2?s.a.createElement(s.a.Fragment,null):s.a.createElement(ee.a,{button:!0,onClick:(O=Q.a.CFCCompare,function(){e.push(O)})},s.a.createElement(te.a,null,s.a.createElement(X.a,null)),s.a.createElement(ae.a,null,"Compare Canvasses"))}},849:function(e,t,a){"use strict";a.d(t,"a",(function(){return X}));var n=a(18),c=a.n(n),r=a(29),l=a(16),o=a(0),s=a.n(o),i=a(822),u=a.n(i),m=a(757),b=a(730),d=a(785),f=a(778),v=a(374),O=a.n(v),p=a(47),h=a(858),j=a.n(h),g=a(837),E=a.n(g),C=a(242),y=a(12),x=a(856),T=a.n(x),w=a(387),S=a(174),k=a(134);function I(){var e=Object(o.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(o.useContext)(S.a).dispatch;Object(o.useEffect)((function(){c({type:k.a.ChangeCopyCanvasActive,payload:a})}),[a,c]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,{button:!0,onClick:function(){n(!0)}},s.a.createElement(d.a,null,s.a.createElement(T.a,null)),s.a.createElement(f.a,null,"Copy Canvas")),s.a.createElement(w.a,{open:a,onClose:function(){n(!1)}}))}var A=a(848),B=a(210),D=a(843),N=a(115),F=a(5),P=a(46),L=a(831),M=a.n(L),G=a(832),V=a.n(G),z=a(239),R=a(827),W=a(45),H=a(37),J=a(833),U=a(825),Q=a(379),q=a(818);M.a.vfs=V.a.pdfMake.vfs;var Y=function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return["".concat(a),"".concat(n),Object(H.a)("".concat(a-n)),Object(J.a)(a,n)]};function $(e,t){var a=e.length>t.length?e.length:t.length;return Object(q.a)(a,0).map((function(a,n){var c,r;return[""].concat(Object(P.a)(Y([(null===(c=e[n])||void 0===c?void 0:c.amount)||0,(null===(r=t[n])||void 0===r?void 0:r.amount)||0])))}))}var K=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(U.a)(t),r=Object(U.a)(a),l=Object(F.a)(Object(F.a)({},Object(R.d)()),{},{content:[Object(R.e)("Canvas Comparison"),Object(R.f)([{table:{width:["*","*","*","*","*"],body:[["",{text:Object(W.i)(t),bold:!0},{text:Object(W.i)(a),bold:!0},{text:"$ Difference",bold:!0},{text:"% Difference",bold:!0}],[{text:"Opening balance",bold:!0}].concat(Object(P.a)(Y([t.openingBalance,a.openingBalance]))),[{text:"Cash In",colSpan:5,bold:!0},"","","",""]].concat(Object(P.a)($(t.cashInItems,a.cashInItems)),[["GST on sales"].concat(Object(P.a)(Y([n.gstOnSales,r.gstOnSales]))),[{text:"Total (exc GST)",bold:!0}].concat(Object(P.a)(Y([Object(Q.c)(t.cashInItems),Object(Q.c)(a.cashInItems)]))),[{text:"Cash Out",colSpan:5,bold:!0},"","","",""]],Object(P.a)($(t.cashOutItems,a.cashOutItems)),[["GST on Purchases"].concat(Object(P.a)(Y([n.gstOnPurchases,r.gstOnPurchases]))),[{text:"Total (exc GST)",bold:!0}].concat(Object(P.a)(Y([Object(Q.c)(t.cashOutItems),Object(Q.c)(a.cashOutItems)]))),[{text:"Cash Surplus",bold:!0}].concat(Object(P.a)(Y([n.cashSurplus,r.cashSurplus]))),["Income/Outcome tax"].concat(Object(P.a)(Y([t.incomeTax,a.incomeTax]))),[{text:"Available to spend",bold:!0}].concat(Object(P.a)(Y([n.availableToSpend,r.availableToSpend]))),["Cash to owner"].concat(Object(P.a)(Y([t.cashToOwner,a.cashToOwner]))),[{text:"Closing balance",bold:!0}].concat(Object(P.a)(Y([n.closingBalance,r.closingBalance]))),["Stock"].concat(Object(P.a)(Y([t.stock,a.stock]))),["Debtors"].concat(Object(P.a)(Y([t.debtors,a.debtors]))),["Assets"].concat(Object(P.a)(Y([t.assets,a.assets]))),["Creditors"].concat(Object(P.a)(Y([t.creditors,a.creditors]))),["Loans"].concat(Object(P.a)(Y([t.loans,a.loans]))),[{text:"Net position",bold:!0}].concat(Object(P.a)(Y([n.totalNetAssets,r.totalNetAssets])))])}}])],styles:{pageHeader:{fontSize:20,bold:!0,fillColor:z.a[800],color:"white",alignment:"center"}},defaultStyles:{fontSize:15,bold:!1,color:"#000"}}),e.abrupt("return",M.a.createPdf(l));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=a(838);function X(){var e=Object(p.f)(),t=Object(p.g)(),a=Object(p.h)().id,n=Object(N.a)(),i=Object(l.a)(n,1)[0],v=Object(o.useContext)(S.a),h=v.leftCompare,g=v.rightCompare,x=function(t){return function(){e.push(t)}},T=function(){return t.pathname===y.a.CFC},w=function(){return t.pathname===y.a.CFCCompare},k=function(){var e=Object(r.a)(c.a.mark((function e(){var t,n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||"string"!==typeof a||w()){e.next=12;break}return e.next=3,B.a.findById(a);case 3:if(void 0!==(t=e.sent)){e.next=8;break}alert("no data"),e.next=12;break;case 8:return e.next=10,Object(D.a)(null!==(n=null===i||void 0===i?void 0:i.name)&&void 0!==n?n:"Client",t);case 10:r=e.sent,Object(_.a)(r);case 12:if(!w()){e.next=18;break}if(!h||!g){e.next=18;break}return e.next=16,K(h,g);case 16:l=e.sent,Object(_.a)(l);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(C.a,{reactourLabel:"canvas-control-panel"},s.a.createElement(m.a,{component:"nav",disablePadding:!0},!T()&&!w()&&s.a.createElement(I,null),(!T()||w())&&s.a.createElement(b.a,{button:!0,onClick:x(y.a.CFC)},s.a.createElement(d.a,null,s.a.createElement(O.a,null)),s.a.createElement(f.a,null,"Create new Canvas")),!T()&&!w()&&s.a.createElement(b.a,{button:!0},s.a.createElement(d.a,null,s.a.createElement(E.a,null)),s.a.createElement(f.a,null,"Import data")),s.a.createElement(b.a,{button:!0,onClick:x(y.a.CFCListing)},s.a.createElement(d.a,null,s.a.createElement(j.a,null)),s.a.createElement(f.a,null,"List of Canvasses")),!w()&&!T()&&s.a.createElement(A.a,null),!T()&&s.a.createElement(b.a,{button:!0},s.a.createElement(d.a,null,s.a.createElement(u.a,null)),s.a.createElement(f.a,{onClick:k},"Generate PDF"))))}},860:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return u}));var n=a(0),c=a.n(n),r=a(73),l=function(){return c.a.createElement("div",{className:"content-area"},c.a.createElement(r.a,{variant:"h6"},"The Cash Flow Canvas"),c.a.createElement(r.a,null,"Visualises your cash flow and makes it easy to see how your business is performing against the Four Key Questions."),c.a.createElement("br",null),c.a.createElement(r.a,null,"This will help you understand your current position and identify any improvements that you could make in your business."))},o=function(){return c.a.createElement("div",{className:"content-area"},c.a.createElement(r.a,{variant:"h6"},"Create a Canvas"),c.a.createElement(r.a,null,"First, you will create a custom name to help identify each Canvas, then choose a Canvas type, time-frame and date range."))},s=function(){return c.a.createElement("div",{className:"content-area"},c.a.createElement(r.a,{variant:"h6"},"Filling out the Canvas"),c.a.createElement(r.a,null,"You can directly enter figures into the Canvas or import from a spreadsheet."),c.a.createElement(r.a,null,"The simpler your Canvas, the easier it will be to understand the relationships between the key areas that will impact your cash flow."))},i=function(){return c.a.createElement("div",{className:"content-area"},c.a.createElement(r.a,{variant:"h6"},"Understanding your position"),c.a.createElement(r.a,null,"Easily see if your business is getting ahead or falling behind."))},u=function(){return c.a.createElement("div",{className:"content-area"},c.a.createElement(r.a,{variant:"h6"},"Control Panel"),c.a.createElement(r.a,null,"Here you can open an existing Canvas, copy, delete, or create a new Canvas."),c.a.createElement("br",null),c.a.createElement(r.a,null,"To copy a Canvas, open the Canvas you would like to replicate and select the Copy Canvas button in the Control Panel."),c.a.createElement(r.a,null,"The Canvas list contains Canvasses you have previously developed"))}},863:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(36),c=a(5),r=a(16),l=a(0),o=a.n(l),s=a(872),i=a(753),u=a(47),m=a(869),b=a(247),d="react-tour-completed";function f(e){var t=e.steps,a=Object(u.g)(),f=Object(u.h)();Object(l.useEffect)((function(){return function(){return Object(m.a)()}}),[]);var v=function(){var e=/\/[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi,t=a.pathname.replace(/^\/|\/$/g,"");return Object.keys(f).length>0&&t.match(e)?t.replace(e,"/:id"):t},O=Object(l.useState)(function(){var e=window.localStorage.getItem(d);if(!e)return!0;var t=JSON.parse(e);return!Object(b.a)(t,v())}()),p=Object(r.a)(O,2),h=p[0],j=p[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"sr-only"},o.a.createElement(i.a,{onClick:function(){return j(!0)},id:"start-a-tour"},"Start tour")),o.a.createElement(s.a,{steps:t,isOpen:h,onRequestClose:function(){var e=window.localStorage.getItem(d),t=e?JSON.parse(e):{};!function(e){window.localStorage.setItem(d,JSON.stringify(e))}(Object(c.a)(Object(c.a)({},t),{},Object(n.a)({},v(),!0))),j(!1)},onAfterOpen:function(e){return Object(m.b)(e)},onBeforeClose:function(e){return Object(m.c)(e)},startAt:0}))}},933:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return X}));var n=a(5),c=a(0),r=a.n(c),l=a(768),o=a(47),s=a(905),i=a.n(s),u=a(11),m=a(333),b=a(18),d=a.n(b),f=a(29),v=a(16),O=a(249),p=a(733),h=a(73),j=a(759),g=a(753),E=a(791),C=a(246),y=a(825),x=a(336),T=a(93),w=a(391),S=a(390),k=a(84);function I(e){var t=e.payg,a=e.super,n=e.onChange,c=Object(k.b)();return r.a.createElement(p.a,{className:"".concat(c.wrapper," ").concat(c.highlightLeft," ").concat(c.plain)},r.a.createElement(w.a,{value:t,onChange:n}),r.a.createElement(T.a,null),r.a.createElement(S.a,{value:a,onChange:n}))}var A=a(379),B=a(841),D=a(70);var N=a(817),F=a(115),P=a(210),L=a(934);function M(e){var t=e.date,a=Object(c.useCallback)((function(){return Object(L.a)(t,new Date,{addSuffix:!0,includeSeconds:!0})}),[t]),n=Object(c.useState)(a()),l=Object(v.a)(n,2),o=l[0],s=l[1];return Object(c.useEffect)((function(){var e=setInterval((function(){s(a())}),1e3);return function(){return clearInterval(e)}}),[a]),r.a.createElement(h.a,{variant:"overline",color:"textSecondary"},"Last saved ",o)}var G=a(386),V=a(463),z=a(844),R=a(821),W=a(393),H=a(174),J=a(134),U=a(45);function Q(e){var t=e.initialValues,a=e.customTitle,l=Object(k.b)(),s=Object(z.a)(),i=Object(c.useState)(new Date),u=Object(v.a)(i,2),m=u[0],b=u[1],w=Object(o.h)().id,S=Object(F.a)(),L=Object(v.a)(S,1)[0],Q=Object(C.useMachine)(G.a),q=Object(v.a)(Q,2),Y=q[0],$=q[1],K=Object(c.useContext)(H.a),_=K.duplicateError,X=K.invalidDateError,Z=K.dispatch,ee=K.copyCanvasActive,te=Object(O.a)({initialValues:t,onSubmit:function(){}}),ae=te.setFieldValue,ne=te.handleChange,ce=te.values,re=te.setValues,le=Object(c.useState)(t),oe=Object(v.a)(le,2),se=oe[0],ie=oe[1],ue=Object(c.useState)(a),me=Object(v.a)(ue,2),be=me[0],de=me[1],fe=Object(c.useMemo)((function(){return Object(y.a)(ce)}),[ce]),ve=ce.canvasTitle,Oe=ce.canvasType,pe=ce.canvasTimeFrame,he=ce.canvasStartDate,je=ce.canvasEndDate,ge=ce.openingBalance,Ee=ce.paygWithholding,Ce=ce.superAmount,ye=ce.incomeTax,xe=ce.cashToOwner,Te=ce.stock,we=ce.creditors,Se=ce.debtors,ke=ce.assets,Ie=ce.loans,Ae=ce.cashInItems,Be=ce.cashOutItems,De=Object(c.useMemo)((function(){return Object(A.c)(Ae)}),[Ae]),Ne=Object(c.useMemo)((function(){return Object(A.b)(Ae)}),[Ae]),Fe=Object(c.useMemo)((function(){return Object(A.g)(ce)}),[ce]),Pe=Object(c.useMemo)((function(){return Object(A.b)(Be)}),[Be]);Object(c.useEffect)((function(){be||ae("canvasTitle","")}),[be,ae]),Object(c.useEffect)((function(){Z({type:J.a.ChangeQuestionValues,payload:{one:Object(U.f)(fe),two:Object(U.h)(fe,Ee,Ce,fe.incomeTaxPercentage),three:Object(U.g)(ge,fe,fe.incomeTaxPercentage),four:void 0}})}),[fe,Ee,Ce,ye,ge,Z]);var Le=Object(c.useCallback)(Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===L||void 0===L?void 0:L.id)){e.next=5;break}return e.next=3,P.a.findById(w);case 3:(t=e.sent)?(re(t,!1),ie(t),""!==t.canvasTitle&&de(!0),$("RESOLVE")):$("REJECT");case 5:case"end":return e.stop()}}),e)}))),[L,w,$,re]);Object(c.useEffect)((function(){Le()}),[Le]);var Me=Object(c.useState)({open:!1,msg:""}),Ge=Object(v.a)(Me,2),Ve=Ge[0],ze=Ge[1];var Re=Object(c.useCallback)((function(){return X||_||be&&""===ve}),[X,_,be,ve]),We=Object(c.useCallback)(Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.update(w,ce);case 2:ie(ce),b(new Date);case 4:case"end":return e.stop()}}),e)}))),[w,ce]);Object(c.useEffect)((function(){var e=setInterval(Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(E.a)(se,ce)||Re()||We();case 1:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearInterval(e)}}),[se,ce,We,Re]);var He=function(e,t){var a=Object(W.a)(e,t,ce),n=a.canvasStartDate,c=a.canvasEndDate;ae("canvasStartDate",n,!1),ae("canvasEndDate",c,!1)};Object(c.useEffect)((function(){He("canvasStartDate",he)}),[pe,he]);var Je=Object(c.useCallback)(ne,[]),Ue=Object(c.useCallback)((function(e){return function(){var t=ce[e];ae(e,t.concat(Object(B.a)()),!1)}}),[ae,ce]),Qe=Object(c.useCallback)((function(e){return function(t){ae(e,function(e,t){return 1===t.length?[{id:t[0].id,description:"",amount:0,gstApplicable:!0}]:t.filter(Object(D.a)(e,!0))}(t,ce[e]),!1)}}),[ce,ae]);return"failure"===Y.value?r.a.createElement(V.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{"data-reactour":"create-a-canvas"},r.a.createElement(x.d,{type:Oe,timeframe:pe,startDate:he,endDate:je,customTitle:ve,useCustomTitle:be}),r.a.createElement(x.i,{canvasTypeValue:Oe,canvasTimeframeValue:pe,onChange:Je,startDate:he,endDate:je,onDateChange:He,customTitle:ve,changeCheck:function(e){de(e.target.checked)},useCustomTitle:be,showDuplicateError:!ee})),r.a.createElement(N.a,{if:"loading"!==Y.value},r.a.createElement(T.a,null),r.a.createElement("div",{"data-reactour":"cfc-filling-out-the-canvas"},r.a.createElement(x.o,{value:ge,onChange:Je}),r.a.createElement(T.a,null),r.a.createElement(p.a,{className:l.wrapper},r.a.createElement(h.a,{variant:"h6",component:"p"},"Cash IN"),r.a.createElement(h.a,null,"Cash received, or revenue, including GST (if applicable). This may be for services or sales. See Change Levers for ideas on how to improve your Cash IN."),r.a.createElement(T.a,null),r.a.createElement(j.a,null),r.a.createElement(T.a,{space:3}),r.a.createElement(x.p,{name:"cashInItems",values:Ae,onChange:Je,total:De,gst:Ne,addItem:Ue("cashInItems"),removeItem:Qe("cashInItems")})),r.a.createElement(T.a,null),r.a.createElement(p.a,{className:l.wrapper},r.a.createElement(h.a,{variant:"h6",component:"p"},"Cash OUT"),r.a.createElement(h.a,null,"All expenses, including GST (if applicable). See Change Levers for ideas on how to reduce your Cash OUT."),r.a.createElement(T.a,null),r.a.createElement(j.a,null),r.a.createElement(T.a,{space:3}),r.a.createElement(x.p,{name:"cashOutItems",values:Be,onChange:Je,total:Fe,gst:Pe,addItem:Ue("cashOutItems"),removeItem:Qe("cashOutItems"),beforeTotalChild:function(){return r.a.createElement(I,{payg:Ee,super:Ce,onChange:Je})}}))),r.a.createElement(T.a,null),r.a.createElement(x.f,{value:"".concat(fe.cashSurplus)}),r.a.createElement(T.a,null),r.a.createElement(x.m,{value:ye,onChange:Je,calculated:fe.incomeTaxPercentage}),r.a.createElement(T.a,null),r.a.createElement(x.b,{value:"".concat(fe.availableToSpend)}),r.a.createElement(T.a,null),r.a.createElement("div",{"data-reactour":"cfc-your-position"},r.a.createElement(x.e,{cashToOwner:xe,onChange:Je,closingBalance:fe.closingBalance}),r.a.createElement(T.a,null),r.a.createElement(x.l,{stock:Te,creditors:we,debtors:Se,assets:ke,loans:Ie,totalNetAssets:fe.totalNetAssets,onChange:Je})),r.a.createElement(T.a,{space:4}),r.a.createElement(j.a,null),r.a.createElement(T.a,null),r.a.createElement(p.a,{className:s.box},r.a.createElement(M,{date:m}),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(e){var t,a;e.preventDefault(),We(),t="Canvas saved",a="success",ze(Object(n.a)(Object(n.a)({},Ve),{},{msg:t,severity:a,open:!0}))},className:s.saveButton,disabled:Re()},"Save canvas"))),r.a.createElement(R.a,Object.assign({},Ve,{onClose:function(e,t){"clickaway"!==t&&ze(Object(n.a)(Object(n.a)({},Ve),{},{open:!1}))}})))}var q=a(816),Y=a(849),$=a(860),K=a(863),_=[{selector:"[data-reactour='cfc-four-questions']",content:$.a},{selector:"[data-reactour='create-a-canvas']",content:$.c},{selector:"[data-reactour='cfc-filling-out-the-canvas']",content:$.d},{selector:"[data-reactour='cfc-your-position']",content:$.e},{selector:"[data-reactour='canvas-control-panel']",content:$.b}];function X(){var e=Object(o.g)(),t=i.a.parse(e.search,{ignoreQueryPrefix:!0}),a=Object(c.useContext)(H.a).questionValues,s=Object(n.a)(Object(n.a)({},y.b),{},{canvasTitle:t.title||y.b.canvasTitle,canvasType:t.type||y.b.canvasType,canvasTimeFrame:t.timeFrame||y.b.canvasTimeFrame,canvasStartDate:t.startDate?Object(u.a)(parseInt(t.startDate,10)):y.b.canvasStartDate,canvasEndDate:t.endDate?Object(u.a)(parseInt(t.endDate,10)):y.b.canvasEndDate});return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{maxWidth:"lg"},r.a.createElement(l.a,{container:!0,spacing:3},r.a.createElement(l.a,{item:!0,xs:12,md:9},r.a.createElement(Q,{initialValues:s,customTitle:function(){var e=t.useCustom;return"undefined"===typeof e?"undefined"!==typeof t.title&&""!==t.title:"0"!==e}()})),r.a.createElement(l.a,{item:!0,xs:12,md:3},r.a.createElement(x.c,{values:a}),r.a.createElement(Y.a,null)))),r.a.createElement(q.a,{tip:"CFCanvasTip"}),r.a.createElement(K.a,{steps:_}))}}}]);
//# sourceMappingURL=15.76fc6965.chunk.js.map