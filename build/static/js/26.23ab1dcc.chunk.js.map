{"version":3,"sources":["content/tips lazy /^/.//.*$/ groupOptions: {} namespace object","components/PageTip/_config/style.ts","components/PageTip/_partials/AsyncTip.tsx","components/PageTip/PageTip.tsx","components/ActionChecklist/ActionContainer/_config/data.ts","components/ActionChecklist/ActionContainer/_config/utilities.ts","components/SectionTitle/_config/styles.ts","components/SectionTitle/SectionTitle.tsx","components/PDF/PDFLib.ts","components/HealthCheck/FourQuestions/FourQuestions.tsx","components/HealthCheck/FourQuestions/_config/utilities.tsx","components/PDF/servePDF.ts","components/PDF/ActionChecklistPDF.ts","components/ActionChecklist/ActionHeader/_config/style.ts","components/ActionChecklist/ActionHeader/ActionHeader.tsx","components/ActionChecklist/ActionContainer/_config/styles.ts","components/ActionChecklist/ActionContainer/_partials/Actions.tsx","components/ActionChecklist/ActionContainer/_partials/ActionItem.tsx","components/ActionChecklist/ActionContainer/_partials/ActionNotes.tsx","util/array/lastInArray.ts","util/array/arraySwap.ts","components/ActionChecklist/ActionContainer/ActionContainer.tsx","components/ActionChecklist/_config/data.ts","data/ActionChecklist/_config/machine.ts","pages/action-items.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","usePageTipStyles","makeStyles","theme","root","position","left","spacing","bottom","icon","marginRight","drawer","padding","maxWidth","width","closeBox","display","justifyContent","marginBottom","paddingBottom","borderBottom","borderBottomColor","palette","grey","borderBottomStyle","AsyncTip","loadable","props","tip","fallback","Loading","PageTip","style","useState","drawerOpen","setDrawerOpen","toggleDrawer","open","event","KeyboardEvent","type","key","className","Fab","color","onClick","variant","Drawer","anchor","onClose","classes","paper","Box","Typography","Button","startIcon","actionTitleMapping","cashInActions","cashOutActions","planningBusiness","recordKeeping","funding","managing","planningCommitments","tracking","transition","actionItemKeyTitleMapping","allowNotes","identifier","indexOf","useSTStyles","title","fontWeight","breakpoints","down","fontSize","typography","h5","SectionTitle","children","styles","addPadding","content","margin","columns","pageDefaultSettings","pageSize","pageMargins","footer","text","format","Date","alignment","frameContent","inner","table","widths","body","pageHeading","layout","pagePadding","basicTable","items","FourQuestions","answers","useFourQsStyles","ExpandableNav","box","List","list","fourQuestionsContent","idx","component","ListItem","listItem","listItemFirst","ListItemText","listItemText","answerIconRoot","answer","opt","getOptionByAnswer","answerTheming","Icon","getIcon","questions","options","answerText","pdf","browser","detect","name","download","pdfMake","vfs","pdfFonts","itemsSection","length","description","reviewBy","checklistCollection","notes","a","docDefinition","value","arr","filter","i","actionContainer","note","push","pageHeader","bold","fillColor","lightBlue","heading","subHeading","rightAlign","noResult","italics","defaultStyle","createPdf","useActionHeaderStyles","flexGrow","ActionHeader","useContext","ActionChecklistContext","hideCompleted","dispatch","FormControlLabel","control","Checkbox","checked","onChange","ActionChecklistActionTypes","ChangeHideCompleted","payload","target","label","useActionContainerStyles","dropdownBody","paddingRight","paddingLeft","useActionsStyles","actionsWrapper","marginTop","alignItems","flexDirection","saveIndicator","userSelect","up","marginLeft","useActionItemStyles","gridRoot","background","paddingTop","hide","height","textfield","actions","dragIcon","cursor","completedText","lineHeight","textDecoration","datepicker","useActionNotesStyles","gridActions","Actions","addNewAction","disabled","saving","lastSaved","ActionItem","index","draggableId","data","deleteAction","lastItemInList","globalHide","cacheDescription","setCacheDescription","dialogueOpen","setDialogueOpen","datepickerOpen","setDatepickerOpen","triggerDispatch","newData","UpdateActionItem","onDialogueClose","onDialogueConfirm","completed","onDescriptionChange","onDescriptionBlur","handleDateChange","date","canComplete","handleCheckboxChange","handleDelete","preventDefault","provided","draggableProps","ref","innerRef","Grid","container","item","xs","sm","md","Tooltip","inputProps","indeterminate","TextField","onBlur","utils","DateFnsUtils","disableToolbar","inputVariant","KeyboardButtonProps","onOpen","fullWidth","IconButton","ConfirmDialogue","onCancel","onConfirm","dragHandleProps","ActionNotes","currentClient","setContent","handleContentBlur","UpdateNotes","ActionNotesUseCase","update","addNotesToContainer","newNotesItem","create","AddNotes","removeNote","RemoveNote","delete","multiline","rows","lastInArray","arraySwap","source","destination","replace","copy","splice","React","memo","identfier","priority","generateKey","setSaving","shouldSave","setShouldSave","setLastSaved","useEffect","setInterval","ActionChecklistUseCase","findByClientAndContainer","DB","ActionPriorityUseCase","PRIOR","isEqual","bulkUpdate","clearInterval","newActionItem","newChecklistItem","dbKey","order","AddNewActionItem","checklist","RemoveActionItem","targetId","priorityId","mapThroughPriorityOrder","findObjectIndexByValue","constructKey","checklistItem","onDragEnd","results","droppableId","UpdatePriorityOrder","droppableProps","placeholder","ActionItemMapping","ActionChecklistMachine","Machine","initial","states","loading","on","HAS_CONTENT","ActionChecklist","useMachine","state","send","databaseSyced","ClientContext","printPDF","ActionChecklistPDF","servePDF","filterByActionContainer","prior","renderActionChecklist","disablePadding","button","ListItemIcon"],"mappings":"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","file":"static/js/26.23ab1dcc.chunk.js","sourcesContent":["var map = {\n\t\"./ActionChecklistTip\": [\n\t\t803,\n\t\t3\n\t],\n\t\"./ActionChecklistTip.tsx\": [\n\t\t803,\n\t\t3\n\t],\n\t\"./CFCanvasTip\": [\n\t\t804,\n\t\t4\n\t],\n\t\"./CFCanvasTip.tsx\": [\n\t\t804,\n\t\t4\n\t],\n\t\"./ChangeLevers\": [\n\t\t805,\n\t\t5\n\t],\n\t\"./ChangeLevers.tsx\": [\n\t\t805,\n\t\t5\n\t],\n\t\"./ClientListTips\": [\n\t\t806,\n\t\t6\n\t],\n\t\"./ClientListTips.tsx\": [\n\t\t806,\n\t\t6\n\t],\n\t\"./CoachingKitTips\": [\n\t\t807,\n\t\t7\n\t],\n\t\"./CoachingKitTips.tsx\": [\n\t\t807,\n\t\t7\n\t],\n\t\"./DiscoverTopicsTips\": [\n\t\t808,\n\t\t8\n\t],\n\t\"./DiscoverTopicsTips.tsx\": [\n\t\t808,\n\t\t8\n\t],\n\t\"./HCQuestionnaire\": [\n\t\t809,\n\t\t9\n\t],\n\t\"./HCQuestionnaire.tsx\": [\n\t\t809,\n\t\t9\n\t],\n\t\"./style\": [\n\t\t801,\n\t\t10\n\t],\n\t\"./style.ts\": [\n\t\t801,\n\t\t10\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 810;\nmodule.exports = webpackAsyncContext;","import { makeStyles } from \"@material-ui/core/styles\"\n\nconst usePageTipStyles = makeStyles((theme) => ({\n\troot: {\n\t\tposition: \"fixed\",\n\t\tleft: theme.spacing(2),\n\t\tbottom: theme.spacing(2),\n\t},\n\ticon: {\n\t\tmarginRight: theme.spacing(1),\n\t},\n\tdrawer: {\n\t\tpadding: theme.spacing(2),\n\t\tmaxWidth: \"350px\",\n\t\twidth: \"100%\",\n\t},\n\tcloseBox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\tmarginBottom: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2),\n\t\tborderBottom: 1,\n\t\tborderBottomColor: theme.palette.grey[500],\n\t\tborderBottomStyle: \"solid\",\n\t},\n}))\n\nexport default usePageTipStyles\n","import React from \"react\"\nimport loadable from \"@loadable/component\"\nimport Loading from \"../../Loading\"\n\n/**\n * Loadable component to dynamically render the tip content\n *\n */\nconst AsyncTip = loadable(\n\t(props: { tip: string }) => import(`../../../content/tips/${props.tip}`),\n\t{\n\t\tfallback: <Loading />,\n\t}\n)\n\nexport default AsyncTip\n","import React, { ReactElement, useState, MouseEvent } from \"react\"\nimport { Fab, Drawer, Button, Box, Typography } from \"@material-ui/core\"\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\"\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\"\nimport usePageTipStyles from \"./_config/style\"\nimport { IPageTip } from \"./_config/shape\"\nimport { AsyncTip } from \"./_partials\"\n\n/**\n * Renders a page tip tooltip at the bottom left of the page\n *\n * @param {string} {tip} File name (no extension) for the tip component\n * @returns ReactElement\n */\nconst PageTip = ({ tip }: IPageTip): ReactElement => {\n\tconst style = usePageTipStyles()\n\tconst [drawerOpen, setDrawerOpen] = useState<boolean>(false)\n\n\t/**\n\t * Toggles the state of the drawer\n\t *\n\t * @param {Boolean} open State to change the drawer to\n\t * @param {KeyboardEvent|MouseEvent<HTMLButtonElement>} event Event generated by a keypress|click\n\t */\n\tconst toggleDrawer = (open: boolean) => (\n\t\tevent: KeyboardEvent | MouseEvent<HTMLButtonElement>\n\t): void => {\n\t\tif (event instanceof KeyboardEvent) {\n\t\t\tif (\n\t\t\t\tevent.type === \"keydown\" &&\n\t\t\t\t(event.key === \"Tab\" || event.key === \"Shift\")\n\t\t\t) {\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\t// Change the state of the drawer\n\t\tsetDrawerOpen(open)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className={style.root}>\n\t\t\t\t<Fab color=\"secondary\" onClick={toggleDrawer(true)} variant=\"extended\">\n\t\t\t\t\t<HelpOutlineIcon className={style.icon} />\n\t\t\t\t\tTips\n\t\t\t\t</Fab>\n\t\t\t</div>\n\t\t\t<Drawer\n\t\t\t\tanchor=\"left\"\n\t\t\t\topen={drawerOpen}\n\t\t\t\tonClose={toggleDrawer(false)}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: style.drawer,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box className={style.closeBox}>\n\t\t\t\t\t<Typography variant=\"h6\">Tips</Typography>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={toggleDrawer(false)}\n\t\t\t\t\t\tstartIcon={<HighlightOffIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\n\t\t\t\t<AsyncTip tip={tip} />\n\t\t\t</Drawer>\n\t\t</>\n\t)\n}\n\nexport default PageTip\n","/* eslint-disable import/prefer-default-export */\nimport { PossibleActionItems } from \"../../../../state/action-checklist/shape\"\n\n// Action title mapping object\nexport const actionTitleMapping: Record<PossibleActionItems, string> = {\n\tcashInActions: \"Cash IN actions\",\n\tcashOutActions: \"Cash OUT actions\",\n\tplanningBusiness: \"Planning your business actions\",\n\trecordKeeping: \"Record keeping actions\",\n\tfunding: \"Funding your business actions\",\n\tmanaging: \"Managing your cash flow actions\",\n\tplanningCommitments: \"Planning your regular financial commitments actions\",\n\ttracking: \"Tracking your performance actions\",\n\ttransition: \"Selling, closing and succession planning\",\n}\n","/* eslint-disable import/prefer-default-export */\nimport { PossibleActionItems } from \"../../../../state/action-checklist/shape\"\nimport { actionTitleMapping } from \"./data\"\n\n/**\n * Gets the title for the current Action container\n *\n * @param {PossibleActionItems} key\n * @returns string\n */\nexport const actionItemKeyTitleMapping = (key: PossibleActionItems): string => {\n\treturn actionTitleMapping[key]\n}\n\n/**\n * Get a list of identifiers that are \"static\",\n * ie they should always be showen\n *\n * @returns PossibleActionItems[]\n */\nexport const staticIdentifier = (): PossibleActionItems[] => [\n\t\"cashInActions\",\n\t\"cashOutActions\",\n]\n\n/**\n * Checks if the container is not cashInActions OR cashOutActions\n *\n * @param {PossibleActionItems} identifier\n * @returns boolean\n */\nexport const allowNotes = (identifier: PossibleActionItems): boolean => {\n\treturn staticIdentifier().indexOf(identifier) === -1\n}\n","import { makeStyles } from \"@material-ui/core\"\n\n// Section title styles\nconst useSTStyles = makeStyles((theme) => ({\n\ttitle: {\n\t\tfontWeight: 500,\n\t\tmarginBottom: theme.spacing(2),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tfontSize: theme.typography.h5.fontSize,\n\t\t},\n\t},\n}))\n\nexport default useSTStyles\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { SectionTitleProps } from \"./_config/shape\"\nimport useSTStyles from \"./_config/styles\"\n\n/**\n * Abstraction for the Typography for a consistent heading for sections\n *\n * @param {SectionTitleProps} props Mimics the props for `<Typography>`\n * @returns ReactElement\n */\nconst SectionTitle = ({\n\tchildren,\n\tclassName,\n\t...props\n}: SectionTitleProps): ReactElement => {\n\tconst styles = useSTStyles()\n\treturn (\n\t\t<Typography\n\t\t\tvariant=\"h4\"\n\t\t\tcolor=\"textPrimary\"\n\t\t\tclassName={`${styles.title} ${className}`}\n\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Typography>\n\t)\n}\n\nexport default SectionTitle\n","/**\n * Add Padding\n *\n * add white space around some content\n */\n\nimport { format } from \"date-fns\"\n\nexport const addPadding = (content: any, margin = 10) => {\n\treturn {\n\t\tmargin,\n\t\tcolumns: [content],\n\t}\n}\n\n/**\n * Page and margin defaults\n */\n\nexport const pageDefaultSettings = () => {\n\treturn {\n\t\t// watermark: {\n\t\t// \ttext: \"draft\",\n\t\t// \tcolor: \"blue\",\n\t\t// \topacity: 0.3,\n\t\t// \tbold: true,\n\t\t// \titalics: false,\n\t\t// },\n\n\t\tpageSize: \"A4\",\n\t\tpageMargins: [0, 0, 0, 25],\n\t\tfooter: {\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\ttext: `Created on the ${format(new Date(), \"do 'of' MMMM yyyy\")}`,\n\t\t\t\t\talignment: \"center\",\n\t\t\t\t\tfontSize: 12,\n\t\t\t\t\tcolor: \"#333\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n}\n\n/**\n * Frame Content\n *\n * Put content in a table with a border\n */\n\nexport const frameContent = (inner: any, style: string[] = []) => {\n\treturn {\n\t\ttable: {\n\t\t\twidths: [\"*\"], // to make it full length\n\t\t\tbody: [[inner]],\n\t\t},\n\t\tstyle,\n\t}\n}\n\n/**\n * Table with Text in it for top of page\n * Requires a pageHeader style\n */\n\nexport const pageHeading = (text: string) => {\n\tconst content = frameContent(addPadding(text), [\"pageHeader\"])\n\n\treturn {\n\t\t...content,\n\t\tlayout: \"noBorders\",\n\t}\n}\n\n/**\n * Add 20 points of padding on a full page\n */\n\nexport const pagePadding = (content: any) => addPadding(content, 20)\n\n/**\n * Basic table of key .... value\n */\n\nexport const basicTable = (items: any, style: string[] = []) => {\n\treturn {\n\t\ttable: {\n\t\t\twidths: [\"75%\", \"*\"],\n\t\t\tbody: items,\n\t\t},\n\t\tstyle,\n\t\tlayout: \"noBorders\",\n\t}\n}\n","import React, { ReactElement } from \"react\"\nimport { List, ListItem, ListItemText, Box } from \"@material-ui/core\"\nimport { fourQuestionsContent, answerTheming } from \"../_config/data\"\nimport useFourQsStyles from \"./_config/styles\"\nimport { IFourQuestionsProps } from \"./_config/shape\"\nimport { answerText } from \"./_config/utilities\"\nimport ExpandableNav from \"../../ExpandableNav\"\nimport { getOptionByAnswer } from \"../_config/utilities\"\nimport { QuestionOptions } from \"../_config/shape\"\n\n/**\n * Component to render the Four key questions with optional\n * answers, used on the questionnaire summary page\n *\n * @param {QuestionOptions[]} { answers? }\n * @returns ReactElement\n */\nconst FourQuestions = ({ answers }: IFourQuestionsProps): ReactElement => {\n\tconst styles = useFourQsStyles()\n\n\t/**\n\t * Renders the answer related icon next to the question\n\t *\n\t * @param {QuestionOptions} answer\n\t * @returns {ReactElement}\n\t */\n\tconst getIcon = (answer: QuestionOptions): ReactElement => {\n\t\tconst opt = getOptionByAnswer(answer, answerTheming)\n\t\tif (opt) {\n\t\t\treturn <opt.Icon style={{ color: opt.color }} />\n\t\t}\n\n\t\treturn <></>\n\t}\n\n\treturn (\n\t\t<ExpandableNav title=\"Four key questions\">\n\t\t\t<Box className={styles.box}>\n\t\t\t\t<List className={styles.list}>\n\t\t\t\t\t{fourQuestionsContent.map(\n\t\t\t\t\t\t(content: string, idx: number): ReactElement => (\n\t\t\t\t\t\t\t<Box key={content} component=\"li\">\n\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\t\t\t\tclassName={`${styles.listItem} ${\n\t\t\t\t\t\t\t\t\t\tidx === 0 ? styles.listItemFirst : \"\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemText className={styles.listItemText}>\n\t\t\t\t\t\t\t\t\t\t{`${idx + 1}. ${content}`}\n\t\t\t\t\t\t\t\t\t\t<Box className={styles.answerIconRoot}>\n\t\t\t\t\t\t\t\t\t\t\t{answers?.[idx] && getIcon(answers[idx])}\n\t\t\t\t\t\t\t\t\t\t\t{answerText(idx, answers)}\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Box>\n\t\t</ExpandableNav>\n\t)\n}\n\nexport default FourQuestions\n","/* eslint-disable import/prefer-default-export */\n\nimport React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { QuestionOptions } from \"../../_config/shape\"\nimport { getOptionByAnswer } from \"../../_config/utilities\"\nimport { answerTheming, questions } from \"../../_config/data\"\n\n/**\n * Checks if a question has a answer and displays the answer\n * with a theme\n *\n * @param {number} idx Question index\n * @param {QuestionOptions[]|undefined} answers Answers given in the quiz\n * @returns (boolean | ReactElement)\n */\nexport const answerText = (\n\tidx: number,\n\tanswers: QuestionOptions[] | undefined\n): ReactElement | boolean => {\n\tif (answers && typeof answers[idx] !== \"undefined\") {\n\t\tconst { color } = getOptionByAnswer(answers[idx], answerTheming)\n\t\treturn (\n\t\t\t<Typography style={{ color, fontWeight: 500 }}>\n\t\t\t\t{questions[idx].options[answers[idx]]}\n\t\t\t</Typography>\n\t\t)\n\t}\n\n\treturn false\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport { detect } from \"detect-browser\"\n\nexport default function (pdf: pdfMake.TCreatedPdf): void {\n\tconst browser = detect()\n\tif (browser?.name === \"ie\" || browser?.name === \"edge\") {\n\t\tpdf.download()\n\t\treturn\n\t}\n\n\tpdf.open()\n}\n","/* eslint-disable */\nimport pdfMake, { TCreatedPdf } from \"pdfmake/build/pdfmake\"\nimport pdfFonts from \"pdfmake/build/vfs_fonts\"\nimport { format } from \"date-fns\"\nimport { lightBlue } from \"@material-ui/core/colors\"\nimport {\n\tpageHeading,\n\tpagePadding,\n\tpageDefaultSettings,\n\tbasicTable,\n} from \"./PDFLib\"\nimport {\n\tActionChecklistStruct,\n\tActionChecklistNotesStruct,\n} from \"../../data/_config/shape\"\nimport { actionTitleMapping } from \"../ActionChecklist/ActionContainer/_config/data\"\nimport { PossibleActionItems } from \"../../state/action-checklist/shape\"\n\npdfMake.vfs = pdfFonts.pdfMake.vfs\n\nconst itemsSection = (items: ActionChecklistStruct[]) => {\n\tif (items.length === 0) {\n\t\treturn {\n\t\t\ttext: \"No action items\",\n\t\t\tstyle: \"noResult\",\n\t\t}\n\t}\n\n\treturn basicTable(\n\t\titems.map(({ description, reviewBy }) => [\n\t\t\t{\n\t\t\t\ttext: description || \"No description provided\",\n\t\t\t\tstyle: description === \"\" ? \"noResult\" : \"\",\n\t\t\t},\n\t\t\tformat(reviewBy, \"dd/MM/yyyy\"),\n\t\t])\n\t)\n}\n\nexport default async (\n\ttitle: string,\n\tchecklistCollection: ActionChecklistStruct[],\n\tnotes: ActionChecklistNotesStruct[]\n): Promise<TCreatedPdf> => {\n\tconst docDefinition: any = {\n\t\t...pageDefaultSettings(),\n\n\t\tcontent: [\n\t\t\tpageHeading(`${title} - Action Checklist`),\n\t\t\tpagePadding([\n\t\t\t\t...(Object.keys(actionTitleMapping) as PossibleActionItems[]).map(\n\t\t\t\t\t(value, idx) => {\n\t\t\t\t\t\tconst arr = []\n\t\t\t\t\t\tconst items = checklistCollection.filter(\n\t\t\t\t\t\t\t(i) => i.actionContainer === value\n\t\t\t\t\t\t)\n\t\t\t\t\t\tconst note = notes.filter((i) => i.actionContainer === value)\n\t\t\t\t\t\tif (items.length === 0) return \"\"\n\n\t\t\t\t\t\tif (idx !== 0) arr.push(\" \")\n\t\t\t\t\t\tarr.push({ text: actionTitleMapping[value], style: \"heading\" })\n\t\t\t\t\t\tarr.push(itemsSection(items))\n\t\t\t\t\t\tif (note.length > 0 && note[0].notes !== \"\") {\n\t\t\t\t\t\t\tarr.push(\" \")\n\t\t\t\t\t\t\tarr.push({ text: \"Notes\", style: \"subHeading\" })\n\t\t\t\t\t\t\tarr.push(note[0].notes)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn arr\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t]),\n\t\t],\n\n\t\tstyles: {\n\t\t\tpageHeader: {\n\t\t\t\tfontSize: 20,\n\t\t\t\tbold: true,\n\t\t\t\tfillColor: lightBlue[\"800\"],\n\t\t\t\tcolor: \"white\",\n\t\t\t\talignment: \"center\",\n\t\t\t},\n\t\t\theading: {\n\t\t\t\tfontSize: 16,\n\t\t\t\tbold: true,\n\t\t\t},\n\t\t\tsubHeading: {\n\t\t\t\tfontSize: 14,\n\t\t\t\tbold: true,\n\t\t\t},\n\t\t\trightAlign: {\n\t\t\t\talignment: \"right\",\n\t\t\t},\n\t\t\tnoResult: {\n\t\t\t\titalics: true,\n\t\t\t\tcolor: \"#333\",\n\t\t\t},\n\t\t},\n\n\t\tdefaultStyle: {\n\t\t\tfontSize: 15,\n\t\t\tbold: false,\n\t\t},\n\t}\n\treturn pdfMake.createPdf(docDefinition)\n}\n","import { makeStyles } from \"@material-ui/core\"\n\n// Styles definition for the Action Header components\nconst useActionHeaderStyles = makeStyles((theme) => ({\n\troot: {\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\tbox: {\n\t\tflexGrow: 2,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-end\",\n\t},\n}))\n\nexport default useActionHeaderStyles\n","import React, { ReactElement, useContext } from \"react\"\nimport { FormControlLabel, Checkbox, Box } from \"@material-ui/core\"\nimport useActionHeaderStyles from \"./_config/style\"\nimport { ActionChecklistContext } from \"../../../state/action-checklist\"\nimport { ActionChecklistActionTypes } from \"../../../state/action-checklist/shape\"\n\n/**\n * Header component for the Action Checklist page\n *\n * @returns ReactElement\n */\nconst ActionHeader = (): ReactElement => {\n\tconst styles = useActionHeaderStyles()\n\tconst { hideCompleted, dispatch } = useContext(ActionChecklistContext)\n\n\t/**\n\t * Change the state of the \"hide all completed\"\n\t * checkbox\n\t *\n\t * @param {React.ChangeEvent<HTMLInputElement>} event\n\t * @returns void\n\t */\n\tconst handleHideChange = (\n\t\tevent: React.ChangeEvent<HTMLInputElement>\n\t): void => {\n\t\tdispatch({\n\t\t\ttype: ActionChecklistActionTypes.ChangeHideCompleted,\n\t\t\tpayload: event.target.checked,\n\t\t})\n\t}\n\n\treturn (\n\t\t<Box className={styles.root}>\n\t\t\t<FormControlLabel\n\t\t\t\tcontrol={\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tchecked={hideCompleted}\n\t\t\t\t\t\tonChange={handleHideChange}\n\t\t\t\t\t\tname=\"hide-items\"\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tlabel=\"Hide completed item\"\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n\nexport default ActionHeader\n","import { makeStyles } from \"@material-ui/core\"\n\n// style definition for action container component\nexport const useActionContainerStyles = makeStyles((theme) => ({\n\tdropdownBody: {\n\t\tpaddingRight: theme.spacing(2),\n\t\tpaddingLeft: theme.spacing(2),\n\t},\n}))\n\n// style definition for action styles component\nexport const useActionsStyles = makeStyles((theme) => ({\n\tactionsWrapper: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\tmarginTop: theme.spacing(3),\n\t\talignItems: \"center\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"flex-start\",\n\t\t\tmarginTop: theme.spacing(2),\n\t\t},\n\t},\n\tsaveIndicator: {\n\t\tuserSelect: \"none\",\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\tmarginLeft: theme.spacing(2),\n\t\t},\n\t},\n}))\n\n// style definition for action item component\nexport const useActionItemStyles = makeStyles((theme) => ({\n\tgridRoot: {\n\t\talignItems: \"center\",\n\t\tmargin: 0,\n\t\twidth: \"100%\",\n\t\tbackground: \"white\",\n\t\t\"& > .MuiGrid-item\": {\n\t\t\tpaddingTop: theme.spacing(1),\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t},\n\t},\n\thide: {\n\t\theight: \"10px\",\n\t\tbackground: theme.palette.grey[200],\n\t\tmarginTop: theme.spacing(1),\n\t\tmarginBottom: theme.spacing(1),\n\t\t\"& > *\": {\n\t\t\tdisplay: \"none !important\",\n\t\t},\n\t},\n\ttextfield: {\n\t\twidth: \"100%\",\n\t},\n\tactions: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-end\",\n\t},\n\tdragIcon: {\n\t\tcursor: \"move\",\n\t},\n\tcompletedText: {\n\t\tpadding: \"18.5px 14px\",\n\t\tlineHeight: \"1.1876em\",\n\t\ttextDecoration: \"line-through\",\n\t},\n\tdatepicker: {\n\t\tmargin: 0,\n\t},\n}))\n\nexport const useActionNotesStyles = makeStyles((theme) => ({\n\tbox: {\n\t\tmarginTop: theme.spacing(3),\n\t},\n\ttextfield: {\n\t\twidth: \"100%\",\n\t},\n\tgridRoot: {\n\t\talignItems: \"center\",\n\t},\n\tgridActions: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-end\",\n\t},\n}))\n","import React, { ReactElement } from \"react\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport { Box, Button, Typography } from \"@material-ui/core\"\nimport { format } from \"date-fns\"\nimport { useActionsStyles } from \"../_config/styles\"\nimport { IActionsProps } from \"../_config/shape\"\n\n/**\n * Component to display all the actions for a\n * action container\n *\n * @param {IActionsProps} props\n * @returns ReactElement\n */\nconst Actions = ({\n\taddNewAction,\n\tdisabled,\n\tsaving,\n\tlastSaved,\n}: IActionsProps): ReactElement => {\n\tconst styles = useActionsStyles()\n\n\treturn (\n\t\t<Box className={styles.actionsWrapper}>\n\t\t\t<Button\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstartIcon={<AddIcon />}\n\t\t\t\tonClick={addNewAction}\n\t\t\t\tdisabled={disabled}\n\t\t\t>\n\t\t\t\tAdd action\n\t\t\t</Button>\n\t\t\t<Typography\n\t\t\t\tvariant=\"overline\"\n\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\tclassName={styles.saveIndicator}\n\t\t\t>\n\t\t\t\t{saving ? \"Saving...\" : `Saved at ${format(lastSaved, \"H:mm:ss a\")}`}\n\t\t\t</Typography>\n\t\t</Box>\n\t)\n}\n\nexport default Actions\n","import React, {\n\tReactElement,\n\tChangeEvent,\n\tFocusEvent,\n\tuseState,\n\tMouseEvent,\n} from \"react\"\nimport {\n\tGrid,\n\tCheckbox,\n\tTextField,\n\tIconButton,\n\tTooltip,\n\tTypography,\n} from \"@material-ui/core\"\nimport DragIndicatorIcon from \"@material-ui/icons/DragIndicator\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport { Draggable } from \"react-beautiful-dnd\"\nimport {\n\tMuiPickersUtilsProvider,\n\tKeyboardDatePicker,\n} from \"@material-ui/pickers\"\nimport DateFnsUtils from \"@date-io/date-fns\"\nimport { format } from \"date-fns\"\nimport { useActionItemStyles } from \"../_config/styles\"\nimport { IActionItemProps } from \"../_config/shape\"\nimport { ActionChecklistActionTypes } from \"../../../../state/action-checklist/shape\"\nimport { BaseActionChecklistStruct } from \"../../../../data/_config/shape\"\nimport ConfirmDialogue from \"../../../ConfirmDialogue\"\n\n/**\n * Component used to render a single action item\n *\n * @param {IActionItemProps} props\n * @returns ReactElement\n */\nconst ActionItem = ({\n\tindex,\n\tdraggableId,\n\tdata,\n\tdispatch,\n\tdeleteAction,\n\tlastItemInList,\n\tglobalHide,\n}: IActionItemProps): ReactElement => {\n\tconst styles = useActionItemStyles()\n\tconst [cacheDescription, setCacheDescription] = useState<string>(\n\t\tdata.description\n\t)\n\tconst [dialogueOpen, setDialogueOpen] = useState<boolean>(false)\n\tconst [datepickerOpen, setDatepickerOpen] = useState(false)\n\n\t/**\n\t * Triggers a update action to change the state\n\t *\n\t * @param {BaseActionChecklistStruct} newData Updated data\n\t * @returns void\n\t */\n\tconst triggerDispatch = (newData: BaseActionChecklistStruct): void => {\n\t\tif (data?.id) {\n\t\t\tdispatch({\n\t\t\t\ttype: ActionChecklistActionTypes.UpdateActionItem,\n\t\t\t\tpayload: {\n\t\t\t\t\tid: data.id,\n\t\t\t\t\tdata: newData,\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Closes the confirmation dialogue\n\t *\n\t * @returns void\n\t */\n\tconst onDialogueClose = (): void => {\n\t\tsetDialogueOpen(false)\n\t}\n\n\t/**\n\t * Triggers the delete method if the dialogue is confirmed\n\t *\n\t * @returns void\n\t */\n\tconst onDialogueConfirm = (): void => {\n\t\tif (!lastItemInList) {\n\t\t\t// Deletes the item from the db & state\n\t\t\tdeleteAction(data.id || \"\")\n\t\t} else {\n\t\t\t// Reset the last item\n\t\t\tsetCacheDescription(\"\")\n\t\t\ttriggerDispatch({\n\t\t\t\t...data,\n\t\t\t\tdescription: \"\",\n\t\t\t\tcompleted: false,\n\t\t\t\treviewBy: new Date(),\n\t\t\t})\n\t\t}\n\t\tsetDialogueOpen(false)\n\t}\n\n\t/**\n\t * Changes the state for the description value\n\t *\n\t * @param {ChangeEvent<HTMLInputElement>} e\n\t */\n\tconst onDescriptionChange = (e: ChangeEvent<HTMLInputElement>): void => {\n\t\tsetCacheDescription(e.target.value)\n\t}\n\n\t/**\n\t * When focusing OFF the description field,\n\t * update the state. This prevents a delay in input\n\t *\n\t * @async\n\t * @param {FocusEvent<HTMLInputElement>} e\n\t * @returns Promise<void>\n\t */\n\tconst onDescriptionBlur = async (\n\t\te: FocusEvent<HTMLInputElement>\n\t): Promise<void> => {\n\t\tif (data.description !== cacheDescription) {\n\t\t\ttriggerDispatch({\n\t\t\t\t...data,\n\t\t\t\tdescription: cacheDescription,\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Change the state of the \"Review by\" date\n\t *\n\t * @param {Date|null} date\n\t * @returns void\n\t */\n\tconst handleDateChange = (date: Date | null): void => {\n\t\tif (date) {\n\t\t\ttriggerDispatch({\n\t\t\t\t...data,\n\t\t\t\treviewBy: date,\n\t\t\t})\n\t\t\tsetDatepickerOpen(false)\n\t\t}\n\t}\n\n\t/**\n\t * Check to see if item can be completed\n\t *\n\t * @returns boolean\n\t */\n\tconst canComplete = (): boolean => cacheDescription !== \"\"\n\n\t/**\n\t * Handles the change event when completing a action\n\t *\n\t * @param {ChangeEvent<HTMLInputElement>} e\n\t * @returns void\n\t */\n\tconst handleCheckboxChange = (e: ChangeEvent<HTMLInputElement>): void => {\n\t\ttriggerDispatch({\n\t\t\t...data,\n\t\t\tcompleted: e.target.checked,\n\t\t})\n\t}\n\n\t/**\n\t * Method to handle the action triggered when clicking\n\t * on the delete icon\n\t *\n\t * @param {MouseEvent<HTMLButtonElement>} e\n\t * @returns void\n\t */\n\tconst handleDelete = (e: MouseEvent<HTMLButtonElement>): void => {\n\t\te.preventDefault()\n\t\tsetDialogueOpen(true)\n\t}\n\n\treturn (\n\t\t<Draggable draggableId={`${draggableId}`} index={index}>\n\t\t\t{(provided): ReactElement => (\n\t\t\t\t<div\n\t\t\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t\t\t{...provided.draggableProps}\n\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\tclassName=\"action-item\"\n\t\t\t\t>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\tclassName={`${styles.gridRoot} ${\n\t\t\t\t\t\t\tglobalHide && data.completed ? styles.hide : \"\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* TODO: Split some of these into other partials */}\n\t\t\t\t\t\t<Grid item xs={2} sm={1} md={1}>\n\t\t\t\t\t\t\t<Tooltip title=\"Mark as done\">\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={data.completed}\n\t\t\t\t\t\t\t\t\tinputProps={{ \"aria-label\": \"completed checkbox\" }}\n\t\t\t\t\t\t\t\t\tid={`action-complete--${data?.id}`}\n\t\t\t\t\t\t\t\t\tonChange={handleCheckboxChange}\n\t\t\t\t\t\t\t\t\tdisabled={!canComplete()}\n\t\t\t\t\t\t\t\t\tindeterminate={!canComplete()}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={10} sm={5} md={6}>\n\t\t\t\t\t\t\t{data.completed ? (\n\t\t\t\t\t\t\t\t<Typography className={styles.completedText}>\n\t\t\t\t\t\t\t\t\t{data.description}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tclassName={styles.textfield}\n\t\t\t\t\t\t\t\t\tid={`action-description--${data?.id}`}\n\t\t\t\t\t\t\t\t\tlabel=\"Action item\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tvalue={cacheDescription}\n\t\t\t\t\t\t\t\t\tonChange={onDescriptionChange}\n\t\t\t\t\t\t\t\t\tonBlur={onDescriptionBlur}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={4} md={3}>\n\t\t\t\t\t\t\t{data.completed ? (\n\t\t\t\t\t\t\t\t<Typography className={styles.completedText}>\n\t\t\t\t\t\t\t\t\t{format(data.reviewBy, \"dd/MM/yyyy\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\n\t\t\t\t\t\t\t\t\t<KeyboardDatePicker\n\t\t\t\t\t\t\t\t\t\tdisableToolbar\n\t\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tformat=\"dd/MM/yyyy\"\n\t\t\t\t\t\t\t\t\t\tid={`action-reviewby--${data?.id}`}\n\t\t\t\t\t\t\t\t\t\tlabel=\"Review by\"\n\t\t\t\t\t\t\t\t\t\tvalue={data.reviewBy}\n\t\t\t\t\t\t\t\t\t\tonChange={handleDateChange}\n\t\t\t\t\t\t\t\t\t\tKeyboardButtonProps={{\n\t\t\t\t\t\t\t\t\t\t\t\"aria-label\": \"change date\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={styles.datepicker}\n\t\t\t\t\t\t\t\t\t\topen={datepickerOpen}\n\t\t\t\t\t\t\t\t\t\tonOpen={(): void => setDatepickerOpen(true)}\n\t\t\t\t\t\t\t\t\t\tonClose={(): void => setDatepickerOpen(false)}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={2} md={2} className={styles.actions}>\n\t\t\t\t\t\t\t<Tooltip title=\"Delete\">\n\t\t\t\t\t\t\t\t<IconButton onClick={handleDelete}>\n\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t<ConfirmDialogue\n\t\t\t\t\t\t\t\topen={dialogueOpen}\n\t\t\t\t\t\t\t\tonClose={onDialogueClose}\n\t\t\t\t\t\t\t\tonCancel={onDialogueClose}\n\t\t\t\t\t\t\t\tonConfirm={onDialogueConfirm}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAre you sure you want to remove this item?\n\t\t\t\t\t\t\t</ConfirmDialogue>\n\t\t\t\t\t\t\t<Tooltip title=\"Reposition\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName={styles.dragIcon}\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t\t\t\t\t\t\t{...provided.dragHandleProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<DragIndicatorIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Draggable>\n\t)\n}\n\nexport default ActionItem\n","import React, { ReactElement, useState, ChangeEvent, MouseEvent } from \"react\"\nimport {\n\tTextField,\n\tBox,\n\tButton,\n\tIconButton,\n\tGrid,\n\tTooltip,\n} from \"@material-ui/core\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport { useActionNotesStyles } from \"../_config/styles\"\nimport { IActionNotesProps } from \"../_config/shape\"\nimport ActionNotesUseCase from \"../../../../data/ActionChecklist/NotesLogic\"\nimport { newNotesItem } from \"../../../../data/ActionChecklist/_config/utilities\"\nimport { ActionChecklistActionTypes } from \"../../../../state/action-checklist/shape\"\n\nconst ActionNotes = ({\n\tcurrentClient,\n\tcontainer,\n\tnote,\n\tdispatch,\n}: IActionNotesProps): ReactElement => {\n\tconst styles = useActionNotesStyles()\n\tconst [content, setContent] = useState<string>(note?.notes || \"\")\n\n\tconst handleContentChange = (e: ChangeEvent<HTMLInputElement>): void => {\n\t\tsetContent(e.target.value)\n\t}\n\n\tconst handleContentBlur = async (): Promise<void> => {\n\t\tif (note?.id && note.notes !== content) {\n\t\t\tconst newData = {\n\t\t\t\t...note,\n\t\t\t\tnotes: content,\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: ActionChecklistActionTypes.UpdateNotes,\n\t\t\t\tpayload: {\n\t\t\t\t\tid: note.id,\n\t\t\t\t\tdata: newData,\n\t\t\t\t},\n\t\t\t})\n\t\t\tawait ActionNotesUseCase.update(note.id, newData)\n\t\t}\n\t}\n\n\tconst addNotesToContainer = async (\n\t\te: MouseEvent<HTMLButtonElement>\n\t): Promise<void> => {\n\t\te.preventDefault()\n\t\tconst item = newNotesItem(currentClient, container)\n\t\tconst id = await ActionNotesUseCase.create(item)\n\t\tdispatch({\n\t\t\ttype: ActionChecklistActionTypes.AddNotes,\n\t\t\tpayload: {\n\t\t\t\tid,\n\t\t\t\t...item,\n\t\t\t},\n\t\t})\n\t}\n\n\tconst removeNote = async (\n\t\te: MouseEvent<HTMLButtonElement>\n\t): Promise<void> => {\n\t\te.preventDefault()\n\t\tif (note?.id) {\n\t\t\tdispatch({\n\t\t\t\ttype: ActionChecklistActionTypes.RemoveNote,\n\t\t\t\tpayload: note.id,\n\t\t\t})\n\t\t\tawait ActionNotesUseCase.delete(note.id)\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box className={styles.box}>\n\t\t\t{note ? (\n\t\t\t\t<Grid container className={styles.gridRoot}>\n\t\t\t\t\t<Grid item xs={10}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tclassName={styles.textfield}\n\t\t\t\t\t\t\tlabel=\"Notes\"\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={content}\n\t\t\t\t\t\t\tonChange={handleContentChange}\n\t\t\t\t\t\t\tonBlur={handleContentBlur}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={2} className={styles.gridActions}>\n\t\t\t\t\t\t<Tooltip title=\"Delete note\">\n\t\t\t\t\t\t\t<IconButton onClick={removeNote}>\n\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t) : (\n\t\t\t\t<Button startIcon={<AddIcon />} onClick={addNotesToContainer}>\n\t\t\t\t\tAdd notes\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n\nexport default ActionNotes\n","/**\n * Returns the last items in an array\n *\n * @param {any[]} arr\n * @returns {any}\n */\nconst lastInArray = (arr: any[]): any => arr[arr.length - 1]\nexport default lastInArray\n","/**\n * Swaps a items in an array\n *\n * @param {T[]} arr\n * @param {number} source\n * @param {number} destination\n * @param {T} replace\n * @returns {T[]}\n */\nconst arraySwap = <T>(\n\tarr: T[],\n\tsource: number,\n\tdestination: number,\n\treplace: T\n): T[] => {\n\tconst copy = [...arr]\n\tcopy.splice(source, 1)\n\tcopy.splice(destination, 0, replace)\n\n\treturn copy\n}\n\nexport default arraySwap\n","import React, {\n\tReactElement,\n\tMouseEvent,\n\tuseContext,\n\tuseState,\n\tFragment,\n\tuseEffect,\n} from \"react\"\nimport { Box } from \"@material-ui/core\"\nimport { DragDropContext, Droppable, DropResult } from \"react-beautiful-dnd\"\nimport { isEqual } from \"lodash-es\"\nimport ExpandableNav from \"../../ExpandableNav\"\nimport { IActionContainerProps } from \"./_config/shape\"\nimport { useActionContainerStyles } from \"./_config/styles\"\nimport { Actions, ActionItem, ActionNotes } from \"./_partials\"\nimport { actionItemKeyTitleMapping, allowNotes } from \"./_config/utilities\"\nimport { ActionChecklistContext } from \"../../../state/action-checklist\"\nimport { ActionChecklistActionTypes } from \"../../../state/action-checklist/shape\"\nimport lastInArray from \"../../../util/array/lastInArray\"\nimport { generateKey, constructKey } from \"../../../util/lists/key\"\nimport {\n\tActionChecklistId,\n\tActionChecklistStruct,\n} from \"../../../data/_config/shape\"\nimport findObjectIndexByValue from \"../../../util/array/findObjectIndexByValue\"\nimport ActionChecklistUseCase from \"../../../data/ActionChecklist/ChecklistLogic\"\nimport ActionPriorityUseCase from \"../../../data/ActionChecklist/PriorityLogic\"\nimport arraySwap from \"../../../util/array/arraySwap\"\nimport { newChecklistItem } from \"../../../data/ActionChecklist/_config/utilities\"\n\n/**\n * A single Action items wrapper\n *\n * @param {PossibleActionItems} {identfier}\n * @param {ISingleActionItem} {data}\n * @returns ReactElement\n */\nconst ActionContainer = ({\n\tidentfier,\n\tdata,\n\tpriority,\n\tnotes,\n\tcurrentClient,\n}: IActionContainerProps): ReactElement => {\n\t// #region Component functionality\n\tconst styles = useActionContainerStyles()\n\tconst { dispatch, hideCompleted } = useContext(ActionChecklistContext)\n\tconst [key] = useState(generateKey())\n\tconst [saving, setSaving] = useState<boolean>(false)\n\tconst [shouldSave, setShouldSave] = useState<boolean>(true)\n\tconst [lastSaved, setLastSaved] = useState<Date>(new Date())\n\n\tuseEffect(() => {\n\t\t// Run every 1.5s\n\t\tconst id = setInterval(async () => {\n\t\t\tif (!shouldSave) return\n\t\t\t// Get the database data for this container\n\t\t\tconst DB = await ActionChecklistUseCase.findByClientAndContainer(\n\t\t\t\tidentfier,\n\t\t\t\tcurrentClient\n\t\t\t)\n\t\t\tconst PRIOR = await ActionPriorityUseCase.findByClientAndContainer(\n\t\t\t\tidentfier,\n\t\t\t\tcurrentClient\n\t\t\t)\n\n\t\t\t// If it is out of sync with the state\n\t\t\tif (!isEqual(DB, data) || !isEqual(PRIOR[0], priority)) {\n\t\t\t\t// Bulk update the database to insync with the state\n\t\t\t\tsetSaving(true)\n\t\t\t\tawait ActionChecklistUseCase.bulkUpdate(data)\n\t\t\t\tif (priority?.id) {\n\t\t\t\t\tawait ActionPriorityUseCase.update(priority.id, priority)\n\t\t\t\t}\n\t\t\t\tsetLastSaved(new Date())\n\t\t\t\tsetSaving(false)\n\t\t\t}\n\t\t}, 2000)\n\n\t\treturn (): void => clearInterval(id)\n\t}, [data, identfier, priority, currentClient, shouldSave])\n\n\t/**\n\t * Event that triggers once a item is dropped\n\t *\n\t * @param {DropResult} results\n\t * @returns void\n\t */\n\tconst onDragEnd = (results: DropResult): void => {\n\t\tconst { destination, source, draggableId } = results\n\n\t\tif (\n\t\t\t!destination ||\n\t\t\t(destination.droppableId === source.droppableId &&\n\t\t\t\tdestination.index === source.index)\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\tconst order = arraySwap<string>(\n\t\t\tpriority.order,\n\t\t\tsource.index,\n\t\t\tdestination.index,\n\t\t\tdraggableId\n\t\t)\n\n\t\tdispatch({\n\t\t\ttype: ActionChecklistActionTypes.UpdatePriorityOrder,\n\t\t\tpayload: {\n\t\t\t\t...priority,\n\t\t\t\torder,\n\t\t\t},\n\t\t})\n\t}\n\n\t/**\n\t * Handles the state change when adding a new action item\n\t *\n\t * @param {MouseEvent<HTMLButtonElement>} e\n\t * @returns void\n\t */\n\tconst addNewAction = async (\n\t\te: MouseEvent<HTMLButtonElement>\n\t): Promise<void> => {\n\t\te.preventDefault()\n\t\tif (currentClient && priority.id) {\n\t\t\tconst newActionItem = newChecklistItem(currentClient, identfier)\n\t\t\t// Adds checklist item to db\n\t\t\tconst dbKey = await ActionChecklistUseCase.create(newActionItem)\n\t\t\t// Updates db item with order\n\t\t\tawait ActionPriorityUseCase.update(priority.id, {\n\t\t\t\t...priority,\n\t\t\t\torder: [...priority.order, dbKey],\n\t\t\t})\n\n\t\t\t// Dispatch the state change\n\t\t\tdispatch({\n\t\t\t\ttype: ActionChecklistActionTypes.AddNewActionItem,\n\t\t\t\tpayload: {\n\t\t\t\t\tchecklist: {\n\t\t\t\t\t\tid: dbKey,\n\t\t\t\t\t\t...newActionItem,\n\t\t\t\t\t},\n\t\t\t\t\tpriority: priority.id,\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Deletes a action from the db and state\n\t *\n\t * @async\n\t * @param {ActionChecklistId} id ID of the checklist to delete\n\t * @returns Promise<void>\n\t */\n\tconst deleteAction = async (id: ActionChecklistId): Promise<void> => {\n\t\tif (priority.id) {\n\t\t\tsetShouldSave(false)\n\t\t\t// remove the checklist item from the db\n\t\t\tawait ActionChecklistUseCase.delete(id)\n\t\t\t// remove the priority item from the db if it is removing the last item\n\t\t\t// in the order\n\t\t\tif (priority.order.length === 1) {\n\t\t\t\tawait ActionPriorityUseCase.delete(priority.id)\n\t\t\t}\n\t\t\t// remove the checklist item from state and priority order\n\t\t\tdispatch({\n\t\t\t\ttype: ActionChecklistActionTypes.RemoveActionItem,\n\t\t\t\tpayload: {\n\t\t\t\t\ttargetId: id,\n\t\t\t\t\tpriorityId: priority.id,\n\t\t\t\t},\n\t\t\t})\n\n\t\t\tsetShouldSave(true)\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the latest item has content before\n\t * letting a user add more actions\n\t *\n\t * @returns boolean\n\t */\n\tconst preventAddingNew = (): boolean => {\n\t\treturn lastInArray(data).description === \"\"\n\t}\n\n\t/**\n\t * Checks if the item is the last in the list\n\t *\n\t * @returns boolean\n\t */\n\tconst lastItemInList = (): boolean => {\n\t\treturn data.length === 1\n\t}\n\n\t/**\n\t * Map method to render all the action items\n\t * in priority order\n\t *\n\t * @param {ActionChecklistId} id\n\t * @param {number} idx\n\t * @returns ReactElement\n\t */\n\tconst mapThroughPriorityOrder = (\n\t\tid: ActionChecklistId,\n\t\tidx: number\n\t): ReactElement => {\n\t\tconst index = findObjectIndexByValue(data, \"id\", id)\n\n\t\tif (index === -1) return <Fragment key={constructKey(key, idx)} />\n\n\t\tconst checklistItem: ActionChecklistStruct = data[index]\n\t\tif (checklistItem?.id) {\n\t\t\treturn (\n\t\t\t\t<ActionItem\n\t\t\t\t\tkey={checklistItem?.id}\n\t\t\t\t\tdraggableId={checklistItem?.id}\n\t\t\t\t\tindex={idx}\n\t\t\t\t\tdata={checklistItem}\n\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\tdeleteAction={deleteAction}\n\t\t\t\t\tlastItemInList={lastItemInList()}\n\t\t\t\t\tglobalHide={hideCompleted}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t\treturn <Fragment key={constructKey(key, idx)} />\n\t}\n\n\t// #endregion\n\n\t// #region Component Markup\n\treturn (\n\t\t<ExpandableNav title={actionItemKeyTitleMapping(identfier)}>\n\t\t\t<DragDropContext onDragEnd={onDragEnd}>\n\t\t\t\t<Box className={styles.dropdownBody}>\n\t\t\t\t\t<Droppable droppableId={identfier}>\n\t\t\t\t\t\t{(provided): ReactElement => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t\t\t\t\t\t{...provided.droppableProps}\n\t\t\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{priority.order.map(mapThroughPriorityOrder)}\n\t\t\t\t\t\t\t\t{provided.placeholder}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Droppable>\n\t\t\t\t\t{allowNotes(identfier) && (\n\t\t\t\t\t\t<ActionNotes\n\t\t\t\t\t\t\tcurrentClient={currentClient}\n\t\t\t\t\t\t\tcontainer={identfier}\n\t\t\t\t\t\t\tnote={notes}\n\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<Actions\n\t\t\t\t\t\taddNewAction={addNewAction}\n\t\t\t\t\t\tdisabled={preventAddingNew()}\n\t\t\t\t\t\tsaving={saving}\n\t\t\t\t\t\tlastSaved={lastSaved}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</DragDropContext>\n\t\t</ExpandableNav>\n\t)\n\t// #endregion\n}\n\nexport default React.memo(ActionContainer)\n","import { PossibleActionItems } from \"../../../state/action-checklist/shape\"\n\n// eslint-disable-next-line import/prefer-default-export\nexport const ActionItemMapping: Record<\n\tPossibleActionItems,\n\tPossibleActionItems\n> = {\n\tcashInActions: \"cashInActions\",\n\tcashOutActions: \"cashOutActions\",\n\tplanningBusiness: \"planningBusiness\",\n\trecordKeeping: \"recordKeeping\",\n\tfunding: \"funding\",\n\tmanaging: \"managing\",\n\tplanningCommitments: \"planningCommitments\",\n\ttracking: \"tracking\",\n\ttransition: \"transition\",\n}\n","import { Machine } from \"xstate\"\n\nexport type StateMap = \"loading\" | \"content\"\n\nexport interface IActionChecklistSchema {\n\tstates: {\n\t\tloading: {}\n\t\tcontent: {}\n\t}\n}\n\nexport type ACEvents = { type: \"HAS_CONTENT\" }\n\nexport const ActionChecklistMachine = Machine<\n\tnull,\n\tIActionChecklistSchema,\n\tACEvents\n>({\n\tkey: \"ac_machine\",\n\tinitial: \"loading\",\n\tstates: {\n\t\tloading: {\n\t\t\ton: {\n\t\t\t\tHAS_CONTENT: \"content\",\n\t\t\t},\n\t\t},\n\t\tcontent: {},\n\t},\n})\n","import React, {\n\tReactElement,\n\tuseContext,\n\tuseState,\n\tFragment,\n\tuseEffect,\n} from \"react\"\nimport {\n\tGrid,\n\tList,\n\tListItem,\n\tListItemText,\n\tListItemIcon,\n\tBox,\n} from \"@material-ui/core\"\nimport PictureAsPdfIcon from \"@material-ui/icons/PictureAsPdf\"\nimport { useMachine } from \"@xstate/react\"\nimport { PageContainer } from \"../components/Layouts\"\nimport SectionTitle from \"../components/SectionTitle\"\nimport FourQuestions from \"../components/HealthCheck/FourQuestions\"\nimport ExpandableNav from \"../components/ExpandableNav\"\nimport { ActionHeader, ActionContainer } from \"../components/ActionChecklist\"\nimport PageTip from \"../components/PageTip\"\nimport { ActionChecklistContext } from \"../state/action-checklist\"\nimport { generateKey, constructKey } from \"../util/lists/key\"\nimport { PossibleActionItems } from \"../state/action-checklist/shape\"\nimport { ActionItemMapping } from \"../components/ActionChecklist/_config/data\"\nimport { ClientContext } from \"../state/client\"\nimport filterByActionContainer from \"../util/filters/ByActionContainer\"\nimport { ActionChecklistMachine } from \"../data/ActionChecklist/_config/machine\"\nimport Loading from \"../components/Loading\"\nimport ActionChecklistPDF from \"../components/PDF/ActionChecklistPDF\"\nimport servePDF from \"../components/PDF/servePDF\"\n\n/**\n * Action Checklist page component\n *\n * @returns ReactElement\n */\nconst ActionChecklist = (): ReactElement => {\n\tconst [state, send] = useMachine(ActionChecklistMachine)\n\tconst { checklistCollection, priority, databaseSyced, notes } = useContext(\n\t\tActionChecklistContext\n\t)\n\tconst {\n\t\tstate: { currentClient },\n\t} = useContext(ClientContext)\n\tconst [key] = useState(generateKey())\n\n\tuseEffect(() => {\n\t\tif (currentClient?.id && databaseSyced) {\n\t\t\tsend(\"HAS_CONTENT\")\n\t\t}\n\t}, [currentClient, databaseSyced, send])\n\n\t/**\n\t * Renders all the action containers based on\n\t * current state data\n\t *\n\t * @returns ReactElement[]\n\t */\n\tconst renderActionContainers = (): ReactElement[] => {\n\t\treturn (Object.keys(ActionItemMapping) as PossibleActionItems[]).map(\n\t\t\t(item, idx) => {\n\t\t\t\tif (currentClient?.id) {\n\t\t\t\t\tconst data = checklistCollection.filter(filterByActionContainer(item))\n\t\t\t\t\tconst prior = priority.filter(filterByActionContainer(item))\n\t\t\t\t\tconst note = notes.filter(filterByActionContainer(item))\n\n\t\t\t\t\tif (data.length > 0 && prior.length > 0) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ActionContainer\n\t\t\t\t\t\t\t\tkey={constructKey(key, idx)}\n\t\t\t\t\t\t\t\tidentfier={item}\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tpriority={prior[0]}\n\t\t\t\t\t\t\t\tnotes={note[0] || null}\n\t\t\t\t\t\t\t\tcurrentClient={currentClient.id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn <Fragment key={constructKey(key, idx)} />\n\t\t\t}\n\t\t)\n\t}\n\n\tconst renderActionChecklist = (): ReactElement => {\n\t\tswitch (state.value) {\n\t\t\tcase \"content\":\n\t\t\t\treturn <>{renderActionContainers()}</>\n\t\t\tcase \"loading\":\n\t\t\tdefault:\n\t\t\t\treturn <Loading />\n\t\t}\n\t}\n\n\tconst printPDF = async () => {\n\t\tconst pdf = await ActionChecklistPDF(\n\t\t\tcurrentClient?.name ?? \"Client\",\n\t\t\tchecklistCollection,\n\t\t\tnotes\n\t\t)\n\t\tservePDF(pdf)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PageContainer>\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12} md={9}>\n\t\t\t\t\t\t<SectionTitle>Action Items</SectionTitle>\n\t\t\t\t\t\t<ActionHeader />\n\t\t\t\t\t\t<Box>{renderActionChecklist()}</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t\t<FourQuestions />\n\t\t\t\t\t\t<ExpandableNav>\n\t\t\t\t\t\t\t<List component=\"nav\" disablePadding>\n\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<PictureAsPdfIcon />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText onClick={printPDF}>Generate PDF</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</ExpandableNav>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</PageContainer>\n\n\t\t\t<PageTip tip=\"ActionChecklistTip\" />\n\t\t</>\n\t)\n}\n\nexport default ActionChecklist\n"],"sourceRoot":""}