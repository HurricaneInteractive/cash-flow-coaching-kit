(this["webpackJsonpdcfck-app"]=this["webpackJsonpdcfck-app"]||[]).push([[32],{799:function(e,a,t){"use strict";t.d(a,"a",(function(){return u}));var n=t(0),c=t.n(n),r=t(785),s=t(864),l=t(304),i=t(818),o=t.n(i);function u(e){var a=e.open,t=e.msg,n=e.onClose,i=e.severity,u=void 0===i?"info":i;return c.a.createElement(s.a,{open:a,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:n},c.a.createElement(r.a,{severity:u,variant:"filled",action:c.a.createElement(l.a,{size:"small","aria-label":"close",color:"inherit"},c.a.createElement(o.a,{fontSize:"small"}))},t))}},807:function(e,a,t){var n={"./ActionChecklistTip":[800,3],"./ActionChecklistTip.tsx":[800,3],"./CFCanvasTip":[801,4],"./CFCanvasTip.tsx":[801,4],"./ChangeLevers":[802,5],"./ChangeLevers.tsx":[802,5],"./ClientListTips":[803,6],"./ClientListTips.tsx":[803,6],"./CoachingKitTips":[804,7],"./CoachingKitTips.tsx":[804,7],"./DiscoverTopicsTips":[805,8],"./DiscoverTopicsTips.tsx":[805,8],"./HCQuestionnaire":[806,9],"./HCQuestionnaire.tsx":[806,9],"./style":[798,10],"./style.ts":[798,10]};function c(e){if(!t.o(n,e))return Promise.resolve().then((function(){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}));var a=n[e],c=a[0];return t.e(a[1]).then((function(){return t(c)}))}c.keys=function(){return Object.keys(n)},c.id=807,e.exports=c},808:function(e,a,t){"use strict";t.d(a,"a",(function(){return j}));var n=t(19),c=t(0),r=t.n(c),s=t(832),l=t(795),i=t(726),o=t(73),u=t(746),m=t(241),f=t.n(m),v=t(369),b=t.n(v),p=t(158),d=Object(p.a)((function(e){return{root:{position:"fixed",left:e.spacing(2),bottom:e.spacing(2)},icon:{marginRight:e.spacing(1)},drawer:{padding:e.spacing(2),maxWidth:"350px",width:"100%"},closeBox:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2),paddingBottom:e.spacing(2),borderBottom:1,borderBottomColor:e.palette.grey[500],borderBottomStyle:"solid"}}})),E=t(48),O=t(170),h=Object(E.a)((function(e){return t(807)("./".concat(e.tip))}),{fallback:r.a.createElement(O.a,null)}),j=function(e){var a=e.tip,t=d(),m=Object(c.useState)(!1),v=Object(n.a)(m,2),p=v[0],E=v[1],O=function(e){return function(a){a instanceof KeyboardEvent&&"keydown"===a.type&&("Tab"===a.key||"Shift"===a.key)||E(e)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.root},r.a.createElement(s.a,{color:"secondary",onClick:O(!0),variant:"extended"},r.a.createElement(f.a,{className:t.icon}),"Tips")),r.a.createElement(l.a,{anchor:"left",open:p,onClose:O(!1),classes:{paper:t.drawer}},r.a.createElement(i.a,{className:t.closeBox},r.a.createElement(o.a,{variant:"h6"},"Tips"),r.a.createElement(u.a,{onClick:O(!1),startIcon:r.a.createElement(b.a,null)},"Close")),r.a.createElement(h,{tip:a})))}},809:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(0),c=t.n(n),r=t(170);function s(e){var a=e.children;return e.if?c.a.createElement(c.a.Fragment,null,a):c.a.createElement(r.a,null)}},812:function(e,a,t){"use strict";var n=t(799);t.d(a,"a",(function(){return n.a}))},834:function(e,a,t){"use strict";var n=t(36),c=t(158),r=Object(c.a)((function(e){return{box:Object(n.a)({display:"flex",justifyContent:"flex-end",alignItems:"center"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"flex-start"}),saveButton:Object(n.a)({},e.breakpoints.up("md"),{marginLeft:e.spacing(1)})}}));a.a=r},901:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return q}));var n=t(5),c=t(0),r=t.n(c),s=t(755),l=t(47),i=t(877),o=t.n(i),u=t(11),m=t(326),f=t(17),v=t.n(f),b=t(29),p=t(19),d=t(245),E=t(726),O=t(73),h=t(752),j=t(746),g=t(784),C=t(243),T=t(823),y=t(329),x=t(91),k=t(385),D=t(384),w=t(83);function I(e){var a=e.payg,t=e.super,n=e.onChange,c=Object(w.b)();return r.a.createElement(E.a,{className:"".concat(c.wrapper," ").concat(c.highlightLeft," ").concat(c.plain)},r.a.createElement(k.a,{value:a,onChange:n}),r.a.createElement(x.a,null),r.a.createElement(D.a,{value:t,onChange:n}))}var S=t(376),N=t(836),B=t(70);var F=t(809),L=t(114),V=t(207),A=t(902);function M(e){var a=e.date,t=Object(c.useCallback)((function(){return Object(A.a)(a,new Date,{addSuffix:!0,includeSeconds:!0})}),[a]),n=Object(c.useState)(t()),s=Object(p.a)(n,2),l=s[0],i=s[1];return Object(c.useEffect)((function(){var e=setInterval((function(){i(t())}),1e3);return function(){return clearInterval(e)}}),[t]),r.a.createElement(O.a,{variant:"overline",color:"textSecondary"},"Last saved ",l)}var P=t(382),Q=t(457),U=t(834),z=t(812),H=t(387),J=t(172),K=t(134),R=t(45);function W(e){var a=e.initialValues,t=e.customTitle,s=Object(w.b)(),i=Object(U.a)(),o=Object(c.useState)(new Date),u=Object(p.a)(o,2),m=u[0],f=u[1],k=Object(l.h)().id,D=Object(L.a)(),A=Object(p.a)(D,1)[0],W=Object(C.useMachine)(P.a),G=Object(p.a)(W,2),_=G[0],q=G[1],X=Object(c.useContext)(J.a),Y=X.duplicateError,Z=X.invalidDateError,$=X.dispatch,ee=X.copyCanvasActive,ae=Object(d.a)({initialValues:a,onSubmit:function(){}}),te=ae.setFieldValue,ne=ae.handleChange,ce=ae.values,re=ae.setValues,se=Object(c.useState)(a),le=Object(p.a)(se,2),ie=le[0],oe=le[1],ue=Object(c.useState)(t),me=Object(p.a)(ue,2),fe=me[0],ve=me[1],be=Object(c.useMemo)((function(){return Object(T.a)(ce)}),[ce]),pe=ce.canvasTitle,de=ce.canvasType,Ee=ce.canvasTimeFrame,Oe=ce.canvasStartDate,he=ce.canvasEndDate,je=ce.openingBalance,ge=ce.paygWithholding,Ce=ce.superAmount,Te=ce.incomeTax,ye=ce.cashToOwner,xe=ce.stock,ke=ce.creditors,De=ce.debtors,we=ce.assets,Ie=ce.loans,Se=ce.cashInItems,Ne=ce.cashOutItems,Be=Object(c.useMemo)((function(){return Object(S.c)(Se)}),[Se]),Fe=Object(c.useMemo)((function(){return Object(S.b)(Se)}),[Se]),Le=Object(c.useMemo)((function(){return Object(S.g)(ce)}),[ce]),Ve=Object(c.useMemo)((function(){return Object(S.b)(Ne)}),[Ne]);Object(c.useEffect)((function(){fe||te("canvasTitle","")}),[fe,te]),Object(c.useEffect)((function(){$({type:K.a.ChangeQuestionValues,payload:{one:Object(R.f)(be),two:Object(R.h)(be,ge,Ce,be.incomeTaxPercentage),three:Object(R.g)(je,be,be.incomeTaxPercentage),four:void 0}})}),[be,ge,Ce,Te,je,$]);var Ae=Object(c.useCallback)(Object(b.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===A||void 0===A?void 0:A.id)){e.next=5;break}return e.next=3,V.a.findById(k);case 3:(a=e.sent)?(re(a,!1),oe(a),""!==a.canvasTitle&&ve(!0),q("RESOLVE")):q("REJECT");case 5:case"end":return e.stop()}}),e)}))),[A,k,q,re]);Object(c.useEffect)((function(){Ae()}),[Ae]);var Me=Object(c.useState)({open:!1,msg:""}),Pe=Object(p.a)(Me,2),Qe=Pe[0],Ue=Pe[1];var ze=Object(c.useCallback)((function(){return Z||Y||fe&&""===pe}),[Z,Y,fe,pe]),He=Object(c.useCallback)(Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.update(k,ce);case 2:oe(ce),f(new Date);case 4:case"end":return e.stop()}}),e)}))),[k,ce]);Object(c.useEffect)((function(){var e=setInterval(Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(g.a)(ie,ce)||ze()||He();case 1:case"end":return e.stop()}}),e)}))),1e3);return function(){return clearInterval(e)}}),[ie,ce,He,ze]);var Je=function(e,a){var t=Object(H.a)(e,a,ce),n=t.canvasStartDate,c=t.canvasEndDate;te("canvasStartDate",n,!1),te("canvasEndDate",c,!1)};Object(c.useEffect)((function(){Je("canvasStartDate",Oe)}),[Ee,Oe]);var Ke=Object(c.useCallback)(ne,[]),Re=Object(c.useCallback)((function(e){return function(){var a=ce[e];te(e,a.concat(Object(N.a)()),!1)}}),[te,ce]),We=Object(c.useCallback)((function(e){return function(a){te(e,function(e,a){return 1===a.length?[{id:a[0].id,description:"",amount:0,gstApplicable:!0}]:a.filter(Object(B.a)(e,!0))}(a,ce[e]),!1)}}),[ce,te]);return"failure"===_.value?r.a.createElement(Q.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.d,{type:de,timeframe:Ee,startDate:Oe,endDate:he,customTitle:pe,useCustomTitle:fe}),r.a.createElement(y.i,{canvasTypeValue:de,canvasTimeframeValue:Ee,onChange:Ke,startDate:Oe,endDate:he,onDateChange:Je,customTitle:pe,changeCheck:function(e){ve(e.target.checked)},useCustomTitle:fe,showDuplicateError:!ee}),r.a.createElement(F.a,{if:"loading"!==_.value},r.a.createElement(x.a,null),r.a.createElement(y.o,{value:je,onChange:Ke}),r.a.createElement(x.a,null),r.a.createElement(E.a,{className:s.wrapper},r.a.createElement(O.a,{variant:"h6"},"Cash IN"),r.a.createElement(O.a,null,"Cash received, or revenue, including GST (if applicable). This may be for services or sales. See Change Levers for ideas on how to improve your Cash IN."),r.a.createElement(x.a,null),r.a.createElement(h.a,null),r.a.createElement(x.a,{space:3}),r.a.createElement(y.p,{name:"cashInItems",values:Se,onChange:Ke,total:Be,gst:Fe,addItem:Re("cashInItems"),removeItem:We("cashInItems")})),r.a.createElement(x.a,null),r.a.createElement(E.a,{className:s.wrapper},r.a.createElement(O.a,{variant:"h6"},"Cash OUT"),r.a.createElement(O.a,null,"All expenses, including GST (if applicable). See Change Levers for ideas on how to reduce your Cash OUT."),r.a.createElement(x.a,null),r.a.createElement(h.a,null),r.a.createElement(x.a,{space:3}),r.a.createElement(y.p,{name:"cashOutItems",values:Ne,onChange:Ke,total:Le,gst:Ve,addItem:Re("cashOutItems"),removeItem:We("cashOutItems"),beforeTotalChild:function(){return r.a.createElement(I,{payg:ge,super:Ce,onChange:Ke})}})),r.a.createElement(x.a,null),r.a.createElement(x.a,null),r.a.createElement(y.f,{value:"".concat(be.cashSurplus)}),r.a.createElement(x.a,null),r.a.createElement(y.m,{value:Te,onChange:Ke,calculated:be.incomeTaxPercentage}),r.a.createElement(x.a,null),r.a.createElement(y.b,{value:"".concat(be.availableToSpend)}),r.a.createElement(x.a,null),r.a.createElement(y.e,{cashToOwner:ye,onChange:Ke,closingBalance:be.closingBalance}),r.a.createElement(x.a,null),r.a.createElement(y.l,{stock:xe,creditors:ke,debtors:De,assets:we,loans:Ie,totalNetAssets:be.totalNetAssets,onChange:Ke}),r.a.createElement(x.a,{space:4}),r.a.createElement(h.a,null),r.a.createElement(x.a,null),r.a.createElement(E.a,{className:i.box},r.a.createElement(M,{date:m}),r.a.createElement(j.a,{variant:"contained",color:"primary",onClick:function(e){var a,t;e.preventDefault(),He(),a="Canvas saved",t="success",Ue(Object(n.a)(Object(n.a)({},Qe),{},{msg:a,severity:t,open:!0}))},className:i.saveButton,disabled:ze()},"Save canvas"))),r.a.createElement(z.a,Object.assign({},Qe,{onClose:function(e,a){"clickaway"!==a&&Ue(Object(n.a)(Object(n.a)({},Qe),{},{open:!1}))}})))}var G=t(808),_=t(851);function q(){var e=Object(l.g)(),a=o.a.parse(e.search,{ignoreQueryPrefix:!0}),t=Object(c.useContext)(J.a).questionValues,i=Object(n.a)(Object(n.a)({},T.b),{},{canvasTitle:a.title||T.b.canvasTitle,canvasType:a.type||T.b.canvasType,canvasTimeFrame:a.timeFrame||T.b.canvasTimeFrame,canvasStartDate:a.startDate?Object(u.a)(parseInt(a.startDate,10)):T.b.canvasStartDate,canvasEndDate:a.endDate?Object(u.a)(parseInt(a.endDate,10)):T.b.canvasEndDate});return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{maxWidth:"lg"},r.a.createElement(s.a,{container:!0,spacing:3},r.a.createElement(s.a,{item:!0,xs:12,md:9},r.a.createElement(W,{initialValues:i,customTitle:function(){var e=a.useCustom;return"undefined"===typeof e?"undefined"!==typeof a.title&&""!==a.title:"0"!==e}()})),r.a.createElement(s.a,{item:!0,xs:12,md:3},r.a.createElement(y.c,{values:t}),r.a.createElement(_.a,null)))),r.a.createElement(G.a,{tip:"CFCanvasTip"}))}}}]);
//# sourceMappingURL=32.95d50c63.chunk.js.map