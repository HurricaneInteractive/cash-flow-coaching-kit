(this["webpackJsonpdcfck-app"]=this["webpackJsonpdcfck-app"]||[]).push([[35],{824:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(107),c=a(0),r=a.n(c),i=a(73),l=a(36),o=a(139),s=Object(o.a)((function(e){return{title:Object(l.a)({fontWeight:500,marginBottom:e.spacing(2)},e.breakpoints.down("sm"),{fontSize:e.typography.h5.fontSize})}})),u=function(e){var t=e.children,a=e.className,c=Object(n.a)(e,["children","className"]),l=s();return r.a.createElement(i.a,Object.assign({variant:"h4",color:"textPrimary",className:"".concat(l.title," ").concat(a)},c),t)}},830:function(e,t,a){"use strict";var n=a(50),c=a(56),r=a(58),i=a(57),l=a(118),o=a(212),s=new(function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.call(this,o.a,o.a.healthChecks)}return Object(c.a)(a,[{key:"findByClientId",value:function(e,t){var a=this;return this.database.transaction("r",this.table.name,(function(){return a.table.where({id:e,clientId:t}).first()}))}},{key:"findClientHealthChecks",value:function(e){var t=this;return this.database.transaction("r",this.table.name,(function(){return t.table.where("clientId").equals(e).toArray()}))}}]),a}(l.a));t.a=s},836:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(17),c=a(0),r=a.n(c),i=a(389),l=a(384);function o(e){var t=e.onClick,a=Object(c.useState)(!1),o=Object(n.a)(a,2),s=o[0],u=o[1];function m(){u(!1)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{onClick:function(e){e.preventDefault(),u(!0)}}),r.a.createElement(l.a,{open:s,onClose:m,onCancel:m,onConfirm:function(e){t(e),m()}},"Are you sure you want to remove this item?"))}},843:function(e,t,a){"use strict";var n=a(1),c=a(3),r=a(0),i=(a(10),a(4)),l=a(8),o=r.forwardRef((function(e,t){var a=e.classes,l=e.className,o=e.component,s=void 0===o?"div":o,u=Object(c.a)(e,["classes","className","component"]);return r.createElement(s,Object(n.a)({className:Object(i.default)(a.root,l),ref:t},u))}));t.a=Object(l.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(o)},851:function(e,t,a){"use strict";var n=a(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),r=(0,n(a(64)).default)(c.default.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=r},866:function(e,t,a){"use strict";var n=a(1),c=a(3),r=a(0),i=(a(10),a(4)),l=a(8),o=r.forwardRef((function(e,t){var a=e.classes,l=e.className,o=Object(c.a)(e,["classes","className"]);return r.createElement("div",Object(n.a)({className:Object(i.default)(a.root,l),ref:t},o))}));o.muiName="ListItemSecondaryAction",t.a=Object(l.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(o)},929:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(73),i=a(768),l=a(333),o=a(18),s=a.n(o),u=a(29),m=a(17),d=a(781),f=a(759),h=a(843),b=a(753),p=a(42),v=a(374),E=a.n(v),y=a(246),j=a(82),C=a(12),O=a(268),k=Object(O.a)({key:"hc_listing_machine",initial:"loading",states:{loading:{on:{IS_EMPTY:"empty",HAS_ITEMS:"hasItems"}},empty:{},hasItems:{on:{IS_EMPTY:"empty"}}}}),w=function(){return c.a.createElement(h.a,null,c.a.createElement(r.a,{variant:"h6"},"No Health Checks have been found"),c.a.createElement(r.a,null,"Check that you have the correct"," ",c.a.createElement(p.b,{to:C.a.ClientList},"client selected")," or"," ",c.a.createElement(p.b,{to:Object(C.c)(C.a.HealthCheckQuiz,[[":id?",""]])},"start a new Health Check"),"."))},g=a(757),S=a(730),H=a(778),I=a(866),M=a(330),N=a(836),z=a(851),_=a.n(z),x=a(796),A=a(307);function T(e){var t=e.goTo;return c.a.createElement(x.a,{title:"View"},c.a.createElement(A.a,{component:p.b,to:t},c.a.createElement(_.a,null)))}var P=function(e){var t=e.clientQuizzes,a=e.removeHealthCheck,r=Object(n.useCallback)((function(e){return function(t){t.preventDefault(),a(e)}}),[a]);return c.a.createElement(g.a,null,t.map((function(e){return c.a.createElement(S.a,{key:e.id,className:"list-item-padded"},c.a.createElement(H.a,{primary:"Completed Health Check",secondary:!!e.createdAt&&Object(M.a)(e.createdAt,"dd/MM/yyyy hh:mm a")}),c.a.createElement(I.a,null,c.a.createElement(T,{goTo:Object(C.c)(C.a.HealthCheckSummary,[[":id","".concat(e.id)]])}),c.a.createElement(N.a,{onClick:r(e.id||"")})))})))},Y=a(173),V=a(139),L=Object(V.a)((function(){return{actions:{display:"flex",justifyContent:"flex-end",alignItems:"center"}}})),Q=a(830),B=a(77),D=function(){var e=Object(y.useMachine)(k),t=Object(m.a)(e,2),a=t[0],r=t[1],i=Object(n.useContext)(j.a),l=i.state,o=l.currentClient,v=l.lastViewedHC,O=i.dispatch,g=Object(n.useState)([]),S=Object(m.a)(g,2),H=S[0],I=S[1],M=L();Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.findClientHealthChecks(t);case 2:0===(a=e.sent).length?r("IS_EMPTY"):(I(a),r("HAS_ITEMS"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(null===o||void 0===o?void 0:o.id){if(!o)return void r("IS_EMPTY");e(o.id)}}),[o,r]);var N=function(){var e=Object(u.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.delete(t);case 3:e.sent>0&&(null!==v&&"".concat(t)==="".concat(v)&&O({type:B.a.UpdateLastViewedHC,payload:null}),0===(a=H.filter((function(e){return e.id!==t}))).length&&r("IS_EMPTY"),I(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.stack||e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(d.a,null,function(){switch(a.value){case"empty":return c.a.createElement(w,null);case"hasItems":return c.a.createElement(P,{clientQuizzes:H,removeHealthCheck:N});case"loading":default:return c.a.createElement(Y.a,null)}}(),c.a.createElement(f.a,null),c.a.createElement(h.a,{className:M.actions},c.a.createElement(b.a,{startIcon:c.a.createElement(E.a,null),size:"medium",component:p.b,to:Object(C.c)(C.a.HealthCheckQuiz,[[":id?",""]]),color:"primary",variant:"contained"},"Add a new Health Check")))},F=a(824);t.default=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.a,null,c.a.createElement(F.a,null,"Saved Health Checks"," ",c.a.createElement(r.a,{variant:"subtitle1",component:"p",color:"textSecondary"},"View a previous Health Check by selecting from the list below.")),c.a.createElement(i.a,{item:!0,sm:6},c.a.createElement(D,null))))}}}]);
//# sourceMappingURL=35.d3d2e88e.chunk.js.map