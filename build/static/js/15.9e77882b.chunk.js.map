{"version":3,"sources":["components/SnackbarMsg/SnackbarMsg.tsx","content/tips lazy /^/.//.*$/ groupOptions: {} namespace object","components/PageTip/_config/style.ts","components/PageTip/_partials/AsyncTip.tsx","components/PageTip/PageTip.tsx","components/IfElseLoading/IfElseLoading.tsx","util/array/arrayFillWith.ts","components/SnackbarMsg/index.ts","components/Forms/CFC/initialValues.ts","components/Forms/CFC/calculateInitial.ts","components/PDF/PDFLib.ts","components/CFCCompare/__config/utilities.ts","components/PDF/servePDF.ts","state/CFC/createCashFlow.tsx","components/PDF/CashFlowCanvasPDF.ts","components/Forms/CFC/__config/styles.ts","components/CFC/NoCanvases.tsx","components/CFCCompare/__config/styles.ts","components/CFCCompare/TimeframeOutOfSync.tsx","components/CFCCompare/CompareSelector.tsx","components/CFCCompare/TableHeader.tsx","components/CFCCompare/CanvasItemRow.tsx","components/CFCCompare/CompareTable.tsx","components/CFCCompare/NotEnoughCanvases.tsx","components/CFCCompare/CompareCanvases.tsx","components/CFCCompare/ControlCompareLink.tsx","components/CFC/CopyCanvasTrigger.tsx","components/PDF/CFCComparePDF.ts","components/CFC/ControlPanel.tsx","components/CFC/__config/constants.tsx","components/PageTour/PageTour.tsx","components/CFC/EmployeeExpenses.tsx","components/LastSaved/LastSaved.tsx","components/Forms/CFC/CanvasForm.tsx","components/Forms/CFC/removeCashFlowItem.ts","pages/CashFlowCanvas/canvasEdit.tsx"],"names":["SnackbarMsg","open","msg","onClose","severity","autoHideDuration","anchorOrigin","vertical","horizontal","variant","action","size","aria-label","color","fontSize","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","usePageTipStyles","makeStyles","theme","root","position","left","spacing","bottom","icon","marginRight","drawer","padding","maxWidth","width","closeBox","display","justifyContent","marginBottom","paddingBottom","borderBottom","borderBottomColor","palette","grey","borderBottomStyle","AsyncTip","loadable","props","tip","fallback","Loading","PageTip","style","useState","drawerOpen","setDrawerOpen","toggleDrawer","event","KeyboardEvent","type","key","className","Fab","onClick","Drawer","anchor","classes","paper","Box","Typography","Button","startIcon","IfElseLoading","children","if","arrayFillWith","len","fill","Array","initialValues","canvasTitle","canvasType","canvasTimeFrame","canvasStartDate","Date","canvasEndDate","calculatedEndDate","openingBalance","paygWithholding","superAmount","incomeTax","cashToOwner","stock","creditors","debtors","assets","loans","cashInItems","createCashFlowItem","cashOutItems","calculateInitial","values","gstOnSales","calcCashFlowGST","closingBalance","calcClosingBalance","gstOnPurchases","totalNetAssets","calcTotalNetAssets","cashSurplus","calcCashSurplus","availableToSpend","calcAvailableToSpend","incomeTaxPercentage","calcIncomeTaxPer","addPadding","content","margin","columns","pageDefaultSettings","pageSize","pageMargins","footer","text","format","alignment","frameContent","inner","table","widths","body","pageHeading","layout","pagePadding","basicTable","items","getCanvasData","client","a","CFCUseCase","findByClient","data","reduceToOptions","acc","cur","concat","value","label","canvasDisplayTitle","changeSelected","allCanvases","selected","idx","newItem","filter","filterById","isAfter","calculateDifferencePer","val1","val2","diff","pipe","toTwoDecimal","removeTrailingZeros","concatStr","pdf","browser","detect","name","download","uuidv4","description","amount","gstApplicable","pdfMake","vfs","pdfFonts","formatDollars","toString","openingBalanceSection","cashInSection","cashInTotal","bold","line","cashOutSection","cashOutTotal","gstOnPurchasesSection","cashSurplusSection","incomeSection","availableToSpendSection","closingCashBalanceSection","yourNetAssetPositionSection","title","calcCashFlowTotal","cashInGST","calcTotalCashOut","cashOutGST","calculated","docDefinition","upperFirst","styles","pageHeader","fillColor","green","rightAlign","yellowBlock","defaultStyle","createPdf","useStyles","box","alignItems","breakpoints","down","flexDirection","saveButton","up","marginLeft","NoCanvases","to","PrivateRoutes","ClientList","routeVarReplacement","CFC","compareLabel","compareTooltip","cell1","cellCanvas","cellDifference","tableRow","background","noBorderBottom","minWidth","md","marginTop","TimeframeOutOfSync","Alert","CompareSelector","selectedCanvases","leftSelected","rightSelected","cls","selectOptions","useMemo","reduce","changeSelectedCanvas","target","Grid","container","item","xs","Tooltip","SelectField","onChange","options","align","component","React","memo","right","TableHead","TableRow","TableCell","CanvasItemRow","border","formatNumber","addDollarSign","CompareTable","leftCalculated","rightCalculated","renderRepeaterFields","length","newTimestamp","TableContainer","Table","TableBody","colSpan","NotEnoughCanvases","CompareCanvases","dispatch","useContext","CFCContext","useMachine","fetchMachine","stateMachine","changeState","useCurrentClient","currentClient","clientSynced","canvases","setCanvases","setSelectedCanvases","useEffect","leftCalc","rightCalc","CFCActionTypes","ChangeQuestionValues","payload","one","calcQuestionOne","two","calcQuestionTwo","three","calcQuestionThree","four","calcQuestionFour","ChangeCompare","fetchCanvasData","useCallback","item1","item2","newSelected","Spacer","Divider","renderForStateMachine","ControlCompareLink","history","useHistory","count","setCount","useParams","getCount","countClientRecords","c","route","ListItem","button","CFCCompare","push","ListItemIcon","ListItemText","CopyCanvasTrigger","setOpen","ChangeCopyCanvasActive","rowValue","defaultStyles","ControlPanel","location","useLocation","canvasId","leftCompare","rightCompare","goTo","isNewPage","pathname","isCompare","printPDF","findById","undefined","alert","CashFlowCanvasPDF","servePDF","CFCComparePDF","ExpandableNav","reactourLabel","List","disablePadding","CFCListing","CFC4QsTourContent","CFCCreateCanvas","CFCFillingOutCanvas","CFCYourPosition","CFCControlPanel","LSKey","PageTour","steps","params","clearAllBodyScrollLocks","getRouteValue","re","path","replace","match","ls","window","localStorage","getItem","json","JSON","parse","hasProperty","shouldBeOpen","isOpen","onRequestClose","setItem","stringify","setLSValue","onAfterOpen","disableBodyScroll","onBeforeClose","enableBodyScroll","startAt","EmployeeExpenses","payg","super","useInputWrapper","wrapper","highlightLeft","plain","PayG","Super","LastSaved","date","getFormattedText","formatDistance","addSuffix","includeSeconds","setMsg","setInterval","clearInterval","CanvasForm","customTitle","lastSaved","setLastSaved","updateMachine","duplicateError","invalidDateError","copyCanvasActive","useFormik","onSubmit","setFieldValue","handleChange","setValues","previousValues","setPreviousValues","useCustomTitle","setUseCustomTitle","fetchFormData","snackbar","setSnackbar","disableSaving","handleFormSave","update","isEqual","changeDateValue","k","v","changeDate","start","end","inputChange","addCashFlowItem","removeItem","removeCashflowItem","DataNotFound","data-reactour","timeframe","startDate","endDate","canvasTypeValue","canvasTimeframeValue","onDateChange","changeCheck","checked","showDuplicateError","space","total","gst","addItem","beforeTotalChild","preventDefault","disabled","reason","selector","CanvasEdit","qs","search","ignoreQueryPrefix","questionValues","initial","timeFrame","toDate","parseInt","use","useCustom"],"mappings":"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","file":"static/js/15.9e77882b.chunk.js","sourcesContent":["import React, { ReactElement } from \"react\"\nimport Alert, { AlertProps } from \"@material-ui/lab/Alert\"\nimport { Snackbar, IconButton } from \"@material-ui/core\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\n// #region Interface Definitions\n/**\n * Data required for the snackbar\n * use this interface when defining the state\n *\n * @export\n * @interface SnackbarMsgData\n */\nexport interface SnackbarMsgData {\n\topen: boolean\n\tmsg: string\n\tseverity?: AlertProps[\"severity\"]\n}\n\n/**\n * Props required to be passed to the component\n *\n * @export\n * @interface SnackbarMsgProps\n * @extends {SnackbarMsgData}\n */\nexport interface SnackbarMsgProps extends SnackbarMsgData {\n\tonClose: (\n\t\tevent: React.SyntheticEvent | React.MouseEvent,\n\t\treason?: string\n\t) => void\n}\n// #endregion\n\n/**\n * Snackbar abstraction component, use this for a consistent\n * way to show messages to the user\n *\n * The component who uses this component will need to handle the\n * state of this component and pass down the props.\n *\n * See the README\n *\n * @export\n * @param {SnackbarMsgProps} {\n * \topen,\n * \tmsg,\n * \tonClose,\n * \tseverity = \"info\",\n * }\n * @returns {ReactElement}\n */\nexport default function SnackbarMsg({\n\topen,\n\tmsg,\n\tonClose,\n\tseverity = \"info\",\n}: SnackbarMsgProps): ReactElement {\n\treturn (\n\t\t<Snackbar\n\t\t\topen={open}\n\t\t\tautoHideDuration={2000}\n\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n\t\t\tonClose={onClose}\n\t\t>\n\t\t\t<Alert\n\t\t\t\tseverity={severity}\n\t\t\t\tvariant=\"filled\"\n\t\t\t\taction={\n\t\t\t\t\t<IconButton size=\"small\" aria-label=\"close\" color=\"inherit\">\n\t\t\t\t\t\t<CloseIcon fontSize=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{msg}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t)\n}\n","var map = {\n\t\"./ActionChecklistTip\": [\n\t\t808,\n\t\t4\n\t],\n\t\"./ActionChecklistTip.tsx\": [\n\t\t808,\n\t\t4\n\t],\n\t\"./CFCanvasTip\": [\n\t\t809,\n\t\t5\n\t],\n\t\"./CFCanvasTip.tsx\": [\n\t\t809,\n\t\t5\n\t],\n\t\"./ChangeLevers\": [\n\t\t810,\n\t\t6\n\t],\n\t\"./ChangeLevers.tsx\": [\n\t\t810,\n\t\t6\n\t],\n\t\"./ClientListTips\": [\n\t\t811,\n\t\t7\n\t],\n\t\"./ClientListTips.tsx\": [\n\t\t811,\n\t\t7\n\t],\n\t\"./CoachingKitTips\": [\n\t\t812,\n\t\t8\n\t],\n\t\"./CoachingKitTips.tsx\": [\n\t\t812,\n\t\t8\n\t],\n\t\"./DiscoverTopicsTips\": [\n\t\t813,\n\t\t9\n\t],\n\t\"./DiscoverTopicsTips.tsx\": [\n\t\t813,\n\t\t9\n\t],\n\t\"./HCQuestionnaire\": [\n\t\t814,\n\t\t10\n\t],\n\t\"./HCQuestionnaire.tsx\": [\n\t\t814,\n\t\t10\n\t],\n\t\"./style\": [\n\t\t806,\n\t\t11\n\t],\n\t\"./style.ts\": [\n\t\t806,\n\t\t11\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 815;\nmodule.exports = webpackAsyncContext;","import { makeStyles } from \"@material-ui/core/styles\"\n\nconst usePageTipStyles = makeStyles((theme) => ({\n\troot: {\n\t\tposition: \"fixed\",\n\t\tleft: theme.spacing(2),\n\t\tbottom: theme.spacing(2),\n\t},\n\ticon: {\n\t\tmarginRight: theme.spacing(1),\n\t},\n\tdrawer: {\n\t\tpadding: theme.spacing(2),\n\t\tmaxWidth: \"350px\",\n\t\twidth: \"100%\",\n\t},\n\tcloseBox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\tmarginBottom: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2),\n\t\tborderBottom: 1,\n\t\tborderBottomColor: theme.palette.grey[500],\n\t\tborderBottomStyle: \"solid\",\n\t},\n}))\n\nexport default usePageTipStyles\n","import React from \"react\"\nimport loadable from \"@loadable/component\"\nimport Loading from \"../../Loading\"\n\n/**\n * Loadable component to dynamically render the tip content\n *\n */\nconst AsyncTip = loadable(\n\t(props: { tip: string }) => import(`../../../content/tips/${props.tip}`),\n\t{\n\t\tfallback: <Loading />,\n\t}\n)\n\nexport default AsyncTip\n","import React, { ReactElement, useState, MouseEvent } from \"react\"\nimport { Fab, Drawer, Button, Box, Typography } from \"@material-ui/core\"\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\"\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\"\nimport usePageTipStyles from \"./_config/style\"\nimport { IPageTip } from \"./_config/shape\"\nimport { AsyncTip } from \"./_partials\"\n\n/**\n * Renders a page tip tooltip at the bottom left of the page\n *\n * @param {string} {tip} File name (no extension) for the tip component\n * @returns ReactElement\n */\nconst PageTip = ({ tip }: IPageTip): ReactElement => {\n\tconst style = usePageTipStyles()\n\tconst [drawerOpen, setDrawerOpen] = useState<boolean>(false)\n\n\t/**\n\t * Toggles the state of the drawer\n\t *\n\t * @param {Boolean} open State to change the drawer to\n\t * @param {KeyboardEvent|MouseEvent<HTMLButtonElement>} event Event generated by a keypress|click\n\t */\n\tconst toggleDrawer = (open: boolean) => (\n\t\tevent: KeyboardEvent | MouseEvent<HTMLButtonElement>\n\t): void => {\n\t\tif (event instanceof KeyboardEvent) {\n\t\t\tif (\n\t\t\t\tevent.type === \"keydown\" &&\n\t\t\t\t(event.key === \"Tab\" || event.key === \"Shift\")\n\t\t\t) {\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\t// Change the state of the drawer\n\t\tsetDrawerOpen(open)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className={style.root}>\n\t\t\t\t<Fab color=\"secondary\" onClick={toggleDrawer(true)} variant=\"extended\">\n\t\t\t\t\t<HelpOutlineIcon className={style.icon} />\n\t\t\t\t\tTips\n\t\t\t\t</Fab>\n\t\t\t</div>\n\t\t\t<Drawer\n\t\t\t\tanchor=\"left\"\n\t\t\t\topen={drawerOpen}\n\t\t\t\tonClose={toggleDrawer(false)}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: style.drawer,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box className={style.closeBox}>\n\t\t\t\t\t<Typography variant=\"h6\">Tips</Typography>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={toggleDrawer(false)}\n\t\t\t\t\t\tstartIcon={<HighlightOffIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\n\t\t\t\t<AsyncTip tip={tip} />\n\t\t\t</Drawer>\n\t\t</>\n\t)\n}\n\nexport default PageTip\n","import React, { ReactElement, ReactNode } from \"react\"\nimport Loading from \"../Loading\"\n\n/**\n * Prop defintion for the `IfElseLoading` component\n *\n * @interface IfElseLoadingProps\n */\ninterface IfElseLoadingProps {\n\tchildren: ReactNode\n\tif: boolean\n}\n\n/**\n * A component to render either the default Loading component\n * or its children based on a conditional\n *\n * @export\n * @param {IfElseLoadingProps} {\n * \tchildren,\n * \tif: check,\n * }\n * @returns {ReactElement}\n */\nexport default function IfElseLoading({\n\tchildren,\n\tif: check,\n}: IfElseLoadingProps): ReactElement {\n\treturn !check ? <Loading /> : <>{children}</>\n}\n","/**\n * Creates and fills an array with some data\n *\n * @export\n * @template T\n * @param {number} len\n * @param {T} fill\n * @returns {T[]}\n */\nexport default function arrayFillWith<T>(len: number, fill: T): T[] {\n\treturn new Array(len).fill(fill)\n}\n","export { default } from \"./SnackbarMsg\"\n","import { BaseCFCStruct } from \"../../../data/_config/shape\"\nimport createCashFlowItem from \"../../../state/CFC/createCashFlow\"\nimport { calculatedEndDate } from \"../../../util/dates\"\n\nconst initialValues: BaseCFCStruct = {\n\tcanvasTitle: \"\",\n\tcanvasType: \"review\",\n\tcanvasTimeFrame: \"quaterly\",\n\tcanvasStartDate: new Date(),\n\tcanvasEndDate: calculatedEndDate(new Date(), \"quaterly\"),\n\topeningBalance: 0,\n\tpaygWithholding: 0,\n\tsuperAmount: 0,\n\tincomeTax: 25,\n\tcashToOwner: 0,\n\tstock: 0,\n\tcreditors: 0,\n\tdebtors: 0,\n\tassets: 0,\n\tloans: 0,\n\tcashInItems: [createCashFlowItem()],\n\tcashOutItems: [createCashFlowItem()],\n}\n\nexport default initialValues\n","import { BaseCFCStruct } from \"../../../data/_config/shape\"\nimport { CalculatedValues } from \"../../../state/CFC/useCalculated\"\nimport {\n\tcalcTotalNetAssets,\n\tcalcAvailableToSpend,\n\tcalcCashSurplus,\n\tcalcCashFlowGST,\n\tcalcClosingBalance,\n\tcalcIncomeTaxPer,\n} from \"../../../state/CFC/accumulators\"\n\n/**\n * Calculates the values for the dynamic values\n *\n * @param {BaseCFCStruct} values\n * @returns {CalculatedValues}\n */\nfunction calculateInitial(values: BaseCFCStruct): CalculatedValues {\n\treturn {\n\t\tgstOnSales: calcCashFlowGST(values.cashInItems),\n\t\tclosingBalance: calcClosingBalance(values),\n\t\tgstOnPurchases: calcCashFlowGST(values.cashOutItems),\n\t\ttotalNetAssets: calcTotalNetAssets(values),\n\t\tcashSurplus: calcCashSurplus(values),\n\t\tavailableToSpend: calcAvailableToSpend(values),\n\t\tincomeTaxPercentage: calcIncomeTaxPer(values),\n\t}\n}\n\nexport default calculateInitial\n","/**\n * Add Padding\n *\n * add white space around some content\n */\n\nimport { format } from \"date-fns\"\n\nexport const addPadding = (content: any, margin = 10) => {\n\treturn {\n\t\tmargin,\n\t\tcolumns: [content],\n\t}\n}\n\n/**\n * Page and margin defaults\n */\n\nexport const pageDefaultSettings = () => {\n\treturn {\n\t\t// watermark: {\n\t\t// \ttext: \"draft\",\n\t\t// \tcolor: \"blue\",\n\t\t// \topacity: 0.3,\n\t\t// \tbold: true,\n\t\t// \titalics: false,\n\t\t// },\n\n\t\tpageSize: \"A4\",\n\t\tpageMargins: [0, 0, 0, 25],\n\t\tfooter: {\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\ttext: `Created on the ${format(new Date(), \"do 'of' MMMM yyyy\")}`,\n\t\t\t\t\talignment: \"center\",\n\t\t\t\t\tfontSize: 12,\n\t\t\t\t\tcolor: \"#333\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t}\n}\n\n/**\n * Frame Content\n *\n * Put content in a table with a border\n */\n\nexport const frameContent = (inner: any, style: string[] = []) => {\n\treturn {\n\t\ttable: {\n\t\t\twidths: [\"*\"], // to make it full length\n\t\t\tbody: [[inner]],\n\t\t},\n\t\tstyle,\n\t}\n}\n\n/**\n * Table with Text in it for top of page\n * Requires a pageHeader style\n */\n\nexport const pageHeading = (text: string) => {\n\tconst content = frameContent(addPadding(text), [\"pageHeader\"])\n\n\treturn {\n\t\t...content,\n\t\tlayout: \"noBorders\",\n\t}\n}\n\n/**\n * Add 20 points of padding on a full page\n */\n\nexport const pagePadding = (content: any) => addPadding(content, 20)\n\n/**\n * Basic table of key .... value\n */\n\nexport const basicTable = (items: any, style: string[] = []) => {\n\treturn {\n\t\ttable: {\n\t\t\twidths: [\"75%\", \"*\"],\n\t\t\tbody: items,\n\t\t},\n\t\tstyle,\n\t\tlayout: \"noBorders\",\n\t}\n}\n","import { isAfter } from \"date-fns\"\nimport { CFCStruct, ClientId, CFCId } from \"../../../data/_config/shape\"\nimport CFCUseCase from \"../../../data/CFC/CFCLogic\"\nimport { SelectFieldOptions } from \"../../SelectField/SelectField\"\nimport { canvasDisplayTitle } from \"../../CFC/__config/utilities\"\nimport { CanvasTuple } from \"./shape\"\nimport filterById from \"../../../util/filters/ById\"\nimport {\n\ttoTwoDecimal,\n\tremoveTrailingZeros,\n} from \"../../../util/money/formatting\"\nimport concatStr from \"../../../util/strings/concatStr\"\nimport { pipe } from \"../../../util/reduce/math\"\n\ntype Client = ClientId | undefined\n\n/**\n * Fetches the canvases for a specific client\n *\n * @param {Client} client\n * @returns {Promise<CFCStruct[]>}\n */\nexport async function getCanvasData(client: Client): Promise<CFCStruct[]> {\n\tif (!client) return []\n\tconst data = await CFCUseCase.findByClient(client)\n\treturn data\n}\n\n/**\n * Reduces a CFC object into options for the select field\n *\n * @returns {ReducerHOF<SelectFieldOptions, CFCStruct>}\n */\nexport function reduceToOptions(): ReducerHOF<SelectFieldOptions, CFCStruct> {\n\treturn (acc, cur): SelectFieldOptions => {\n\t\treturn acc.concat({\n\t\t\tvalue: cur.id || -1,\n\t\t\tlabel: canvasDisplayTitle(cur),\n\t\t})\n\t}\n}\n\n/**\n * Changes which canvases are selected for comparing\n *\n * @export\n * @param {CFCStruct[]} allCanvases\n * @param {CanvasTuple} selected\n * @param {number} idx\n * @param {CFCId} id\n * @returns {CanvasTuple}\n */\nexport function changeSelected(\n\tallCanvases: CFCStruct[],\n\tselected: CanvasTuple,\n\tidx: number,\n\tid: CFCId\n): CanvasTuple {\n\tconst newItem = allCanvases.filter(filterById(id))[0]\n\t// return if undefined\n\tif (!newItem) return selected\n\n\tif (idx === 0) {\n\t\tif (isAfter(selected[1].canvasStartDate, newItem.canvasStartDate)) {\n\t\t\treturn [selected[1], newItem]\n\t\t}\n\t\treturn [newItem, selected[1]]\n\t}\n\n\tif (isAfter(newItem.canvasStartDate, selected[0].canvasStartDate)) {\n\t\treturn [newItem, selected[0]]\n\t}\n\treturn [selected[0], newItem]\n}\n\n/**\n * Calculated the percentage difference of two fields\n *\n * @export\n * @param {number} val1\n * @param {number} val2\n * @returns {string}\n */\nexport function calculateDifferencePer(val1: number, val2: number): string {\n\tif (val2 === 0) return \"N/A\"\n\tconst diff = ((val1 - val2) / val2) * 100\n\n\treturn pipe(toTwoDecimal, removeTrailingZeros, concatStr(\"%\"))(`${diff}`)\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport { detect } from \"detect-browser\"\n\nexport default function (pdf: pdfMake.TCreatedPdf): void {\n\tconst browser = detect()\n\tif (browser?.name === \"ie\" || browser?.name === \"edge\") {\n\t\tpdf.download()\n\t\treturn\n\t}\n\n\tpdf.open()\n}\n","import { v4 as uuidv4 } from \"uuid\"\nimport { CashFlow } from \"../../data/_config/shape\"\n\nexport default function createCashFlowItem(): CashFlow {\n\treturn {\n\t\tid: uuidv4(),\n\t\tdescription: \"\",\n\t\tamount: 0,\n\t\tgstApplicable: true,\n\t}\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport pdfFonts from \"pdfmake/build/vfs_fonts\"\nimport { green } from \"@material-ui/core/colors\"\nimport { format } from \"date-fns\"\nimport {\n\tframeContent,\n\tbasicTable,\n\tpageDefaultSettings,\n\tpageHeading,\n\tpagePadding,\n} from \"./PDFLib\"\nimport { BaseCFCStruct, CashFlow } from \"../../data/_config/shape\"\nimport {\n\tcalcCashFlowGST,\n\tcalcCashFlowTotal,\n\tcalcTotalCashOut,\n} from \"../../state/CFC/accumulators\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { canvasDisplayTitle } from \"../CFC/__config/utilities\"\nimport upperFirst from \"../../util/strings/upperCaseFirst\"\n\npdfMake.vfs = pdfFonts.pdfMake.vfs\n\nconst formatDollars = (value: number) => `$${value.toString()}`\n\nconst openingBalanceSection = (openingBalance: number): any => {\n\treturn frameContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Opening Balance\",\n\t\t\t\t{ text: formatDollars(openingBalance), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n}\n\nconst cashInSection = (cashInItems: CashFlow[], cashInTotal: number): any => {\n\treturn frameContent([\n\t\t{\n\t\t\ttext: \"Cash IN\",\n\t\t\tbold: true,\n\t\t},\n\t\tbasicTable([\n\t\t\t...cashInItems.map((line) => [\n\t\t\t\tline.description,\n\t\t\t\t{ text: formatDollars(line.amount), style: [\"rightAlign\"] },\n\t\t\t]),\n\t\t\t[\n\t\t\t\t\"Total (Exc GST)\",\n\t\t\t\t{\n\t\t\t\t\ttext: formatDollars(cashInTotal),\n\t\t\t\t\tstyle: [\"rightAlign\"],\n\t\t\t\t},\n\t\t\t],\n\t\t]),\n\t])\n}\n\nconst gstOnSalesSection = (gstOnSales: number): any => {\n\treturn frameContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"GST on Sales\",\n\t\t\t\t\t{ text: formatDollars(gstOnSales), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n}\n\nconst cashOutSection = (\n\tcashOutItems: CashFlow[],\n\tcashOutTotal: number\n): any => {\n\treturn frameContent([\n\t\t{ text: \"Cash OUT\", bold: true },\n\t\tbasicTable([\n\t\t\t...cashOutItems.map((line) => [\n\t\t\t\tline.description,\n\t\t\t\t{ text: formatDollars(line.amount), style: [\"rightAlign\"] },\n\t\t\t]),\n\t\t\t[\n\t\t\t\t\"Total (Exc GST)\",\n\t\t\t\t{\n\t\t\t\t\ttext: formatDollars(cashOutTotal),\n\t\t\t\t\tstyle: [\"rightAlign\"],\n\t\t\t\t},\n\t\t\t],\n\t\t]),\n\t])\n}\n\nconst gstOnPurchasesSection = (\n\tgstOnPurchases: number,\n\tpaygWithholding: number,\n\tsuperAmount: number\n): any => {\n\treturn frameContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"GST on Purchases\",\n\t\t\t\t\t{ text: formatDollars(gstOnPurchases), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"PAYG Withholding\",\n\t\t\t\t\t{ text: formatDollars(paygWithholding), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t\t[\"Super\", { text: formatDollars(superAmount), style: [\"rightAlign\"] }],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n}\n\nconst cashSurplusSection = (cashSurplus: number): any => {\n\treturn frameContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Cash Surplus\",\n\t\t\t\t{ text: formatDollars(cashSurplus), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n}\n\nconst incomeSection = (incomeTax: number): any => {\n\treturn frameContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"Income/Company Tax\",\n\t\t\t\t\t// TODO: Needs to use the new calculations in feature/122 branch\n\t\t\t\t\t{ text: formatDollars(incomeTax), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n}\n\nconst availableToSpendSection = (availableToSpend: number): any => {\n\treturn frameContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Available to spend\",\n\t\t\t\t{ text: formatDollars(availableToSpend), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n}\n\nconst closingCashBalanceSection = (\n\tcashToOwner: number,\n\tclosingBalance: number\n): any => {\n\treturn frameContent([\n\t\t{ text: \"Your Closing Cash Balance\", bold: true },\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Cash to owner\",\n\t\t\t\t{ text: formatDollars(cashToOwner), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"Closing balance\",\n\t\t\t\t{ text: formatDollars(closingBalance), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t]),\n\t])\n}\n\nconst yourNetAssetPositionSection = (\n\tstock: number,\n\tcreditors: number,\n\tdebtors: number,\n\tassets: number,\n\tloans: number,\n\ttotalNetAssets: number\n): any => {\n\treturn frameContent([\n\t\t{ text: \"Your net asset position\", bold: true },\n\t\tbasicTable([\n\t\t\t[\"Stocks\", { text: formatDollars(stock), style: [\"rightAlign\"] }],\n\t\t\t[\"Creditors\", { text: formatDollars(creditors), style: [\"rightAlign\"] }],\n\t\t\t[\"Debtors\", { text: formatDollars(debtors), style: [\"rightAlign\"] }],\n\t\t\t[\"Assets\", { text: formatDollars(assets), style: [\"rightAlign\"] }],\n\t\t\t[\"Loans\", { text: formatDollars(loans), style: [\"rightAlign\"] }],\n\t\t\t[\n\t\t\t\t{ text: \"Total net assets\", bold: true },\n\t\t\t\t{ text: formatDollars(totalNetAssets), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t]),\n\t])\n}\n\nexport default async (title: string, values: BaseCFCStruct) => {\n\tconst {\n\t\topeningBalance,\n\t\tcashInItems,\n\t\tcashOutItems,\n\t\tpaygWithholding,\n\t\tsuperAmount,\n\t\tincomeTax,\n\t\tcashToOwner,\n\t\tstock,\n\t\tcreditors,\n\t\tdebtors,\n\t\tassets,\n\t\tloans,\n\t} = values\n\n\tconst cashInTotal = calcCashFlowTotal(cashInItems)\n\tconst cashInGST = calcCashFlowGST(cashInItems)\n\tconst cashOutTotal = calcTotalCashOut(values)\n\tconst cashOutGST = calcCashFlowGST(cashOutItems)\n\n\tconst calculated = calculateInitial(values)\n\tconst {\n\t\tcashSurplus,\n\t\tavailableToSpend,\n\t\tclosingBalance,\n\t\ttotalNetAssets,\n\t} = calculated\n\n\tconst docDefinition: any = {\n\t\t...pageDefaultSettings(),\n\n\t\tcontent: [\n\t\t\tpageHeading(`${title} - CANVAS - ${canvasDisplayTitle(values)}`),\n\t\t\tpagePadding([\n\t\t\t\tframeContent({\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidths: [\"25%\", \"25%\", \"25%\", \"25%\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Canvas Type\", bold: true },\n\t\t\t\t\t\t\t\t\tupperFirst(values.canvasType),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Time-frame\", bold: true },\n\t\t\t\t\t\t\t\t\tupperFirst(values.canvasTimeFrame),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Start date\", bold: true },\n\t\t\t\t\t\t\t\t\t`${format(values.canvasStartDate, \"dd/MM/yyyy\")}`,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"End date\", bold: true },\n\t\t\t\t\t\t\t\t\t`${format(values.canvasEndDate, \"dd/MM/yyyy\")}`,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\tlayout: \"noBorders\",\n\t\t\t\t}),\n\t\t\t\t\" \",\n\t\t\t\topeningBalanceSection(openingBalance),\n\n\t\t\t\t{\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidths: [\"60%\", \"*\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tcashInSection(cashInItems, cashInTotal),\n\t\t\t\t\t\t\t\tgstOnSalesSection(cashInGST),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tcashOutSection(cashOutItems, cashOutTotal),\n\t\t\t\t\t\t\t\tgstOnPurchasesSection(cashOutGST, paygWithholding, superAmount),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[cashSurplusSection(cashSurplus), incomeSection(incomeTax)],\n\t\t\t\t\t\t\t[availableToSpendSection(availableToSpend), {}],\n\t\t\t\t\t\t\t[closingCashBalanceSection(cashToOwner, closingBalance), {}],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tyourNetAssetPositionSection(\n\t\t\t\t\t\t\t\t\tstock,\n\t\t\t\t\t\t\t\t\tcreditors,\n\t\t\t\t\t\t\t\t\tdebtors,\n\t\t\t\t\t\t\t\t\tassets,\n\t\t\t\t\t\t\t\t\tloans,\n\t\t\t\t\t\t\t\t\ttotalNetAssets\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\tlayout: \"noBorders\",\n\t\t\t\t},\n\t\t\t]),\n\t\t],\n\n\t\tstyles: {\n\t\t\tpageHeader: {\n\t\t\t\tfontSize: 20,\n\t\t\t\tbold: true,\n\t\t\t\tfillColor: green[\"800\"],\n\t\t\t\tcolor: \"white\",\n\t\t\t\talignment: \"center\",\n\t\t\t},\n\t\t\trightAlign: {\n\t\t\t\t// fillColor: \"#CCCCCC\",\n\t\t\t\talignment: \"right\",\n\t\t\t},\n\t\t\tyellowBlock: {\n\t\t\t\tfillColor: \"yellow\",\n\t\t\t},\n\t\t},\n\n\t\tdefaultStyle: {\n\t\t\tfontSize: 15,\n\t\t\tbold: false,\n\t\t},\n\t}\n\treturn pdfMake.createPdf(docDefinition)\n}\n","import { makeStyles } from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n\tbox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-end\",\n\t\talignItems: \"center\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"flex-start\",\n\t\t},\n\t},\n\tsaveButton: {\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tmarginLeft: theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport default useStyles\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { Link } from \"react-router-dom\"\nimport { PrivateRoutes, routeVarReplacement } from \"../../util/routes/routes\"\n\n/**\n * No canvas data message\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function NoCanvases(): ReactElement {\n\treturn (\n\t\t<>\n\t\t\t<Typography variant=\"h6\">No canvas data found</Typography>\n\t\t\t<Typography>\n\t\t\t\tCheck that you have the correct{\" \"}\n\t\t\t\t<Link to={PrivateRoutes.ClientList}>client selected</Link> or{\" \"}\n\t\t\t\t<Link to={routeVarReplacement(PrivateRoutes.CFC, [[\":id?\", \"\"]])}>\n\t\t\t\t\tstart a new canvas\n\t\t\t\t</Link>\n\t\t\t\t.\n\t\t\t</Typography>\n\t\t</>\n\t)\n}\n","import { makeStyles } from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n\tcompareLabel: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t},\n\tcompareTooltip: {\n\t\tmarginLeft: theme.spacing(1),\n\t},\n\tcell1: {\n\t\twidth: \"20%\",\n\t},\n\tcellCanvas: {\n\t\twidth: \"25%\",\n\t},\n\tcellDifference: {\n\t\twidth: \"15%\",\n\t},\n\ttableRow: {\n\t\t\"&:hover\": {\n\t\t\tbackground: theme.palette.grey[100],\n\t\t},\n\t},\n\tnoBorderBottom: {\n\t\tborderBottom: \"none\",\n\t},\n\ttable: {\n\t\t[theme.breakpoints.down(\"md\")]: {\n\t\t\tminWidth: theme.breakpoints.values.md,\n\t\t},\n\t},\n\tto: {\n\t\t[theme.breakpoints.down(\"md\")]: {\n\t\t\tmarginTop: -theme.spacing(1),\n\t\t\tmarginBottom: -theme.spacing(1),\n\t\t},\n\t},\n}))\n\nexport default useStyles\n","import React, { ReactElement } from \"react\"\nimport Alert from \"@material-ui/lab/Alert\"\n\n/**\n * Message to display when comparing canvases are in different time frames\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function TimeframeOutOfSync(): ReactElement {\n\treturn (\n\t\t<Alert severity=\"warning\">\n\t\t\tThe two selected canvases are in different time-frames. The calculations\n\t\t\twill not be accurate.\n\t\t</Alert>\n\t)\n}\n","import React, { ReactElement, useMemo, ChangeEvent } from \"react\"\nimport { Typography, Grid, Tooltip } from \"@material-ui/core\"\nimport InfoIcon from \"@material-ui/icons/Info\"\nimport { CompareSelectorProps } from \"./__config/shape\"\nimport SelectField from \"../SelectField\"\nimport { reduceToOptions } from \"./__config/utilities\"\nimport useStyles from \"./__config/styles\"\nimport TimeframeOutOfSync from \"./TimeframeOutOfSync\"\n\nconst tipContent =\n\t\"The canvas with the later date will always move to the ‘left-side’ of the comparison\"\n\n/**\n * Selector to choose between different canvases\n *\n * @export\n * @param {CompareSelectorProps} {\n * \tselectedCanvases: [leftSelected, rightSelected],\n * \tallCanvases,\n * }\n * @returns {ReactElement}\n */\nexport default function CompareSelector({\n\tselectedCanvases: [leftSelected, rightSelected],\n\tallCanvases,\n\tchangeSelected,\n}: CompareSelectorProps): ReactElement {\n\tconst cls = useStyles()\n\n\tconst selectOptions = useMemo(() => {\n\t\treturn allCanvases.reduce(reduceToOptions(), [])\n\t}, [allCanvases])\n\n\tconst changeSelectedCanvas = (idx: number) => (\n\t\te: ChangeEvent<HTMLInputElement>\n\t): void => {\n\t\tchangeSelected(idx, e.target.value)\n\t}\n\n\treturn (\n\t\t<Grid container spacing={2} alignItems=\"center\">\n\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t<Typography variant=\"h6\" className={cls.compareLabel}>\n\t\t\t\t\tCompare\n\t\t\t\t\t<Tooltip title={tipContent} className={cls.compareTooltip}>\n\t\t\t\t\t\t<InfoIcon color=\"primary\" />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} md={4}>\n\t\t\t\t<SelectField\n\t\t\t\t\tname=\"left-side-compare\"\n\t\t\t\t\tlabel=\"Canvas\"\n\t\t\t\t\tvalue={leftSelected?.id || -1}\n\t\t\t\t\tonChange={changeSelectedCanvas(0)}\n\t\t\t\t\toptions={selectOptions}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} md={1} className={cls.to}>\n\t\t\t\t<Typography align=\"center\" variant=\"overline\" component=\"p\">\n\t\t\t\t\tto\n\t\t\t\t</Typography>\n\t\t\t</Grid>\n\t\t\t<Grid item xs={12} md={4}>\n\t\t\t\t<SelectField\n\t\t\t\t\tname=\"right-side-compare\"\n\t\t\t\t\tlabel=\"Canvas\"\n\t\t\t\t\tvalue={rightSelected?.id || -1}\n\t\t\t\t\tonChange={changeSelectedCanvas(1)}\n\t\t\t\t\toptions={selectOptions}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t\t{leftSelected.canvasTimeFrame !== rightSelected.canvasTimeFrame && (\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TimeframeOutOfSync />\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</Grid>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { TableHead, TableRow, TableCell } from \"@material-ui/core\"\nimport { TableHeaderProps } from \"./__config/shape\"\nimport { canvasDisplayTitle } from \"../CFC/__config/utilities\"\nimport useStyles from \"./__config/styles\"\n\n/**\n * Component used as the table header\n *\n * @export\n * @param {TableHeaderProps} {\n * \tselectedCanvases: [left, right],\n * }\n * @returns {ReactElement}\n */\nexport default React.memo(function TableHeader({\n\tselectedCanvases: [left, right],\n}: TableHeaderProps): ReactElement {\n\tconst cls = useStyles()\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell className={cls.cell1}>\n\t\t\t\t\t<span className=\"MuiTypography-srOnly\">Cash category</span>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={cls.cellCanvas}>\n\t\t\t\t\t{canvasDisplayTitle(left)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={cls.cellCanvas}>\n\t\t\t\t\t{canvasDisplayTitle(right)}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell className={cls.cellDifference}>$ Difference</TableCell>\n\t\t\t\t<TableCell className={cls.cellDifference}>% Difference</TableCell>\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t)\n})\n","import React, { ReactElement } from \"react\"\nimport { TableCell, TableRow } from \"@material-ui/core\"\nimport { CanvasItemRowProps } from \"./__config/shape\"\nimport { calculateDifferencePer } from \"./__config/utilities\"\nimport { addDollarSign, formatNumber } from \"../../util/money/formatting\"\nimport useStyles from \"./__config/styles\"\n\n/**\n * Used to display the data related to a value for a field in the canvas\n *\n * @export\n * @param {CanvasItemRowProps} {\n * \tvalues: [val1, val2],\n * \tlabel,\n * \tbold\n * \tborder\n * }\n * @returns {ReactElement}\n */\nexport default function CanvasItemRow({\n\tvalues: [val1, val2],\n\tlabel,\n\tbold = false,\n\tborder = true,\n}: CanvasItemRowProps): ReactElement {\n\tconst cls = useStyles()\n\n\treturn (\n\t\t<TableRow className={cls.tableRow}>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t>\n\t\t\t\t{label || \"\"}\n\t\t\t</TableCell>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t>\n\t\t\t\t{formatNumber(`${val1}`)}\n\t\t\t</TableCell>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t>\n\t\t\t\t{formatNumber(`${val2}`)}\n\t\t\t</TableCell>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t>\n\t\t\t\t{addDollarSign(formatNumber(`${val1 - val2}`))}\n\t\t\t</TableCell>\n\t\t\t<TableCell\n\t\t\t\tclassName={border ? \"\" : cls.noBorderBottom}\n\t\t\t\tvariant={bold ? \"head\" : \"body\"}\n\t\t\t>\n\t\t\t\t{calculateDifferencePer(val1, val2)}\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t)\n}\n","import React, { ReactElement, useMemo } from \"react\"\nimport { TableContainer, Table, TableBody, TableCell } from \"@material-ui/core\"\nimport TableHeader from \"./TableHeader\"\nimport CanvasItemRow from \"./CanvasItemRow\"\nimport { CompareTableProps } from \"./__config/shape\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { calcCashFlowTotal } from \"../../state/CFC/accumulators\"\nimport { CashFlow } from \"../../data/_config/shape\"\nimport arrayFillWith from \"../../util/array/arrayFillWith\"\nimport { newTimestamp } from \"../../util/dates\"\nimport useStyles from \"./__config/styles\"\n\n/**\n * The component used to display the data in a table format\n *\n * @export\n * @param {CompareTableProps} {\n * \tselectedCanvases,\n * }\n * @returns {ReactElement}\n */\nexport default function CompareTable({\n\tselectedCanvases,\n}: CompareTableProps): ReactElement {\n\tconst cls = useStyles()\n\n\tconst leftCalculated = useMemo(() => {\n\t\treturn calculateInitial(selectedCanvases[0])\n\t}, [selectedCanvases])\n\n\tconst rightCalculated = useMemo(() => {\n\t\treturn calculateInitial(selectedCanvases[1])\n\t}, [selectedCanvases])\n\n\t/**\n\t * Renders the repeater form values\n\t *\n\t * @param {CashFlow[]} val1\n\t * @param {CashFlow[]} val2\n\t * @returns {ReactElement[]}\n\t */\n\tfunction renderRepeaterFields(\n\t\tval1: CashFlow[],\n\t\tval2: CashFlow[]\n\t): ReactElement[] {\n\t\tconst len = val1.length > val2.length ? val1.length : val2.length\n\t\tconst arr = arrayFillWith(len, 0)\n\t\treturn arr.map((item, idx) => (\n\t\t\t<CanvasItemRow\n\t\t\t\tkey={val1[idx]?.id || val2[idx]?.id || newTimestamp()}\n\t\t\t\tvalues={[val1[idx]?.amount || 0, val2[idx]?.amount || 0]}\n\t\t\t\tborder={idx >= len - 1}\n\t\t\t/>\n\t\t))\n\t}\n\n\treturn (\n\t\t<TableContainer>\n\t\t\t<Table className={cls.table}>\n\t\t\t\t<TableHeader selectedCanvases={selectedCanvases} />\n\t\t\t\t<TableBody>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Opening Balance\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tselectedCanvases[0].openingBalance,\n\t\t\t\t\t\t\tselectedCanvases[1].openingBalance,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableCell colSpan={5} variant=\"head\" className={cls.noBorderBottom}>\n\t\t\t\t\t\tCash IN\n\t\t\t\t\t</TableCell>\n\t\t\t\t\t{renderRepeaterFields(\n\t\t\t\t\t\tselectedCanvases[0].cashInItems,\n\t\t\t\t\t\tselectedCanvases[1].cashInItems\n\t\t\t\t\t)}\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"GST on sales\"\n\t\t\t\t\t\tvalues={[leftCalculated.gstOnSales, rightCalculated.gstOnSales]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Total (exc GST)\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tcalcCashFlowTotal(selectedCanvases[0].cashInItems),\n\t\t\t\t\t\t\tcalcCashFlowTotal(selectedCanvases[1].cashInItems),\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableCell colSpan={5} variant=\"head\" className={cls.noBorderBottom}>\n\t\t\t\t\t\tCash OUT\n\t\t\t\t\t</TableCell>\n\t\t\t\t\t{renderRepeaterFields(\n\t\t\t\t\t\tselectedCanvases[0].cashOutItems,\n\t\t\t\t\t\tselectedCanvases[1].cashOutItems\n\t\t\t\t\t)}\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"GST on Purchases\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.gstOnPurchases,\n\t\t\t\t\t\t\trightCalculated.gstOnPurchases,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Total (exc GST)\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tcalcCashFlowTotal(selectedCanvases[0].cashOutItems),\n\t\t\t\t\t\t\tcalcCashFlowTotal(selectedCanvases[1].cashOutItems),\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Cash Surplus\"\n\t\t\t\t\t\tvalues={[leftCalculated.cashSurplus, rightCalculated.cashSurplus]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Income/Company Tax\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.incomeTaxPercentage,\n\t\t\t\t\t\t\trightCalculated.incomeTaxPercentage,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Available to spend\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.availableToSpend,\n\t\t\t\t\t\t\trightCalculated.availableToSpend,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Cash to Owner\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tselectedCanvases[0].cashToOwner,\n\t\t\t\t\t\t\tselectedCanvases[1].cashToOwner,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Closing balance\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.closingBalance,\n\t\t\t\t\t\t\trightCalculated.closingBalance,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Stock\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].stock, selectedCanvases[1].stock]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Debtors\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].debtors, selectedCanvases[1].debtors]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Assets\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].assets, selectedCanvases[1].assets]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Creditors\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tselectedCanvases[0].creditors,\n\t\t\t\t\t\t\tselectedCanvases[1].creditors,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tlabel=\"Loans\"\n\t\t\t\t\t\tvalues={[selectedCanvases[0].loans, selectedCanvases[1].loans]}\n\t\t\t\t\t/>\n\t\t\t\t\t<CanvasItemRow\n\t\t\t\t\t\tbold\n\t\t\t\t\t\tlabel=\"Net Position\"\n\t\t\t\t\t\tvalues={[\n\t\t\t\t\t\t\tleftCalculated.totalNetAssets,\n\t\t\t\t\t\t\trightCalculated.totalNetAssets,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { Link } from \"react-router-dom\"\nimport { PrivateRoutes, routeVarReplacement } from \"../../util/routes/routes\"\n\n/**\n * Message to display when there are not enough canvases\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function NotEnoughCanvases(): ReactElement {\n\treturn (\n\t\t<>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tYou don&apos;t have enough canvases created\n\t\t\t</Typography>\n\t\t\t<Typography>\n\t\t\t\tTo continue, you&apos;ll need at least 2 canvases created. <br /> Check\n\t\t\t\tthat you have the correct{\" \"}\n\t\t\t\t<Link to={PrivateRoutes.ClientList}>client selected</Link> or{\" \"}\n\t\t\t\t<Link to={routeVarReplacement(PrivateRoutes.CFC, [[\":id?\", \"\"]])}>\n\t\t\t\t\tstart a new canvas\n\t\t\t\t</Link>\n\t\t\t\t.\n\t\t\t</Typography>\n\t\t</>\n\t)\n}\n","import React, {\n\tReactElement,\n\tuseCallback,\n\tuseEffect,\n\tuseState,\n\tuseContext,\n} from \"react\"\nimport { Divider } from \"@material-ui/core\"\nimport { useMachine } from \"@xstate/react\"\nimport { isAfter } from \"date-fns\"\nimport CompareSelector from \"./CompareSelector\"\nimport Spacer from \"../Spacer\"\nimport CompareTable from \"./CompareTable\"\nimport fetchMachine from \"../Forms/CFC/__config/machine\"\nimport NoCanvases from \"../CFC/NoCanvases\"\nimport Loading from \"../Loading\"\nimport useCurrentClient from \"../../state/client/useCurrentClient\"\nimport { CFCStruct, CFCId } from \"../../data/_config/shape\"\nimport { getCanvasData, changeSelected } from \"./__config/utilities\"\nimport NotEnoughCanvases from \"./NotEnoughCanvases\"\nimport { CanvasTuple } from \"./__config/shape\"\nimport CFCContext from \"../../state/CFC/context\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { CFCActionTypes } from \"../../state/CFC/shape\"\nimport {\n\tcalcQuestionFour,\n\tcalcQuestionOne,\n\tcalcQuestionTwo,\n\tcalcQuestionThree,\n} from \"../CFC/__config/utilities\"\n\n/**\n * Component wrapper to display all the data in the compare table\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function CompareCanvases(): ReactElement {\n\t// #region State Management\n\tconst { dispatch } = useContext(CFCContext)\n\tconst [stateMachine, changeState] = useMachine(fetchMachine)\n\tconst [currentClient, clientSynced] = useCurrentClient()\n\tconst [canvases, setCanvases] = useState<CFCStruct[]>([])\n\tconst [selectedCanvases, setSelectedCanvases] = useState<CanvasTuple>()\n\n\tuseEffect(() => {\n\t\tconst left = selectedCanvases?.[0]\n\t\tconst right = selectedCanvases?.[1]\n\n\t\tif (left && right) {\n\t\t\tconst leftCalc = calculateInitial(left)\n\t\t\tconst rightCalc = calculateInitial(right)\n\n\t\t\tdispatch({\n\t\t\t\ttype: CFCActionTypes.ChangeQuestionValues,\n\t\t\t\tpayload: {\n\t\t\t\t\tone: calcQuestionOne(leftCalc),\n\t\t\t\t\ttwo: calcQuestionTwo(\n\t\t\t\t\t\tleftCalc,\n\t\t\t\t\t\tleft.paygWithholding,\n\t\t\t\t\t\tleft.superAmount,\n\t\t\t\t\t\tleft.incomeTax\n\t\t\t\t\t),\n\t\t\t\t\tthree: calcQuestionThree(\n\t\t\t\t\t\tleft.openingBalance,\n\t\t\t\t\t\tleftCalc,\n\t\t\t\t\t\tleft.incomeTax\n\t\t\t\t\t),\n\t\t\t\t\tfour: calcQuestionFour(leftCalc, rightCalc),\n\t\t\t\t},\n\t\t\t})\n\n\t\t\tdispatch({\n\t\t\t\ttype: CFCActionTypes.ChangeCompare,\n\t\t\t\tpayload: {\n\t\t\t\t\tleft,\n\t\t\t\t\tright,\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t}, [selectedCanvases, dispatch])\n\t// #endregion\n\n\t// #region Data Fetching\n\tconst fetchCanvasData = useCallback(async () => {\n\t\tconst data = await getCanvasData(currentClient?.id)\n\t\tsetCanvases(data)\n\t\tif (data.length >= 2) {\n\t\t\tconst item1 = data[0]\n\t\t\tconst item2 = data[1]\n\t\t\tsetSelectedCanvases(\n\t\t\t\tisAfter(item1.canvasStartDate, item2.canvasStartDate)\n\t\t\t\t\t? [item1, item2]\n\t\t\t\t\t: [item2, item1]\n\t\t\t)\n\t\t}\n\t\tchangeState(data.length < 2 ? \"REJECT\" : \"RESOLVE\")\n\t}, [currentClient, changeState])\n\n\tuseEffect(() => {\n\t\tif (clientSynced) {\n\t\t\tfetchCanvasData()\n\t\t}\n\t}, [clientSynced, fetchCanvasData])\n\t// #endregion\n\n\t// #region Changing Selected Canvas\n\t/**\n\t * Change the currently selected canvas to compare\n\t *\n\t * @param {number} idx\n\t * @param {CFCId} id\n\t */\n\tfunction changeSelectedCanvas(idx: number, id: CFCId): void {\n\t\tif (!selectedCanvases) return\n\n\t\tconst newSelected = changeSelected(canvases, selectedCanvases, idx, id)\n\t\tsetSelectedCanvases(newSelected)\n\t}\n\t// #endregion\n\n\t// #region Component rendering\n\t/**\n\t * Renders the component based on the current state of the state machine\n\t *\n\t * @returns {ReactElement}\n\t */\n\tfunction renderForStateMachine(): ReactElement {\n\t\tswitch (stateMachine.value) {\n\t\t\tcase \"failure\":\n\t\t\t\treturn canvases.length === 1 ? <NotEnoughCanvases /> : <NoCanvases />\n\t\t\tcase \"success\":\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<CompareSelector\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\t\t\tselectedCanvases={selectedCanvases!}\n\t\t\t\t\t\t\tallCanvases={canvases}\n\t\t\t\t\t\t\tchangeSelected={changeSelectedCanvas}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t{/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n\t\t\t\t\t\t<CompareTable selectedCanvases={selectedCanvases!} />\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\tcase \"loading\":\n\t\t\tdefault:\n\t\t\t\treturn <Loading />\n\t\t}\n\t}\n\n\treturn renderForStateMachine()\n\t// #endregion\n}\n","import React, { ReactElement, useState, useCallback, useEffect } from \"react\"\nimport CompareArrowsIcon from \"@material-ui/icons/CompareArrows\"\nimport { useHistory, useParams } from \"react-router-dom\"\nimport { ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\"\nimport { PrivateRoutes } from \"../../util/routes/routes\"\nimport useCurrentClient from \"../../state/client/useCurrentClient\"\nimport CFCUseCase from \"../../data/CFC/CFCLogic\"\n\nexport default function ControlCompareLink(): ReactElement {\n\tconst history = useHistory()\n\tconst [count, setCount] = useState(0)\n\tconst { id } = useParams()\n\tconst [currentClient, clientSynced] = useCurrentClient()\n\tconst getCount = useCallback(async () => {\n\t\tif (currentClient?.id) {\n\t\t\tconst c = await CFCUseCase.countClientRecords(currentClient.id)\n\t\t\tsetCount(c)\n\t\t}\n\t}, [currentClient, setCount])\n\n\tuseEffect(() => {\n\t\tif (clientSynced) {\n\t\t\tgetCount()\n\t\t}\n\t}, [clientSynced, getCount, id])\n\n\tconst goTo = (route: PrivateRoutes) => (): void => {\n\t\t// eslint-disable-next-line\n\t\thistory.push(route)\n\t}\n\n\tif (count < 2) {\n\t\treturn <></>\n\t}\n\n\treturn (\n\t\t<ListItem button onClick={goTo(PrivateRoutes.CFCCompare)}>\n\t\t\t<ListItemIcon>\n\t\t\t\t<CompareArrowsIcon />\n\t\t\t</ListItemIcon>\n\t\t\t<ListItemText>Compare Canvasses</ListItemText>\n\t\t</ListItem>\n\t)\n}\n","import React, { ReactElement, useState, useContext, useEffect } from \"react\"\nimport { ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\"\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\"\nimport { CopyCanvasDialog } from \"../../content/dialog\"\nimport CFCContext from \"../../state/CFC/context\"\nimport { CFCActionTypes } from \"../../state/CFC/shape\"\n\n/**\n * Component used to trigger the copy canvas modal\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function CopyCanvasTrigger(): ReactElement {\n\tconst [open, setOpen] = useState(false)\n\tconst { dispatch } = useContext(CFCContext)\n\n\tuseEffect(() => {\n\t\tdispatch({\n\t\t\ttype: CFCActionTypes.ChangeCopyCanvasActive,\n\t\t\tpayload: open,\n\t\t})\n\t}, [open, dispatch])\n\n\tconst onClose = (): void => {\n\t\tsetOpen(false)\n\t}\n\tconst onOpen = (): void => {\n\t\tsetOpen(true)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ListItem button onClick={onOpen}>\n\t\t\t\t<ListItemIcon>\n\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t</ListItemIcon>\n\t\t\t\t<ListItemText>Copy Canvas</ListItemText>\n\t\t\t</ListItem>\n\t\t\t<CopyCanvasDialog open={open} onClose={onClose} />\n\t\t</>\n\t)\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport pdfFonts from \"pdfmake/build/vfs_fonts\"\nimport { green } from \"@material-ui/core/colors\"\nimport { CFCStruct, CashFlow } from \"../../data/_config/shape\"\nimport { pageDefaultSettings, pageHeading, pagePadding } from \"./PDFLib\"\nimport { canvasDisplayTitle } from \"../CFC/__config/utilities\"\nimport { addDollarSign } from \"../../util/money/formatting\"\nimport { calculateDifferencePer } from \"../CFCCompare/__config/utilities\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { calcCashFlowTotal } from \"../../state/CFC/accumulators\"\nimport arrayFillWith from \"../../util/array/arrayFillWith\"\n\npdfMake.vfs = pdfFonts.pdfMake.vfs\n\nconst rowValue = (values: [number, number]): string[] => {\n\tconst [val1, val2] = values\n\treturn [\n\t\t`${val1}`,\n\t\t`${val2}`,\n\t\taddDollarSign(`${val1 - val2}`),\n\t\tcalculateDifferencePer(val1, val2),\n\t]\n}\n\nfunction renderRepeaterFields(val1: CashFlow[], val2: CashFlow[]): string[][] {\n\tconst len = val1.length > val2.length ? val1.length : val2.length\n\tconst arr = arrayFillWith(len, 0)\n\treturn arr.map((item, idx) => [\n\t\t\"\",\n\t\t...rowValue([val1[idx]?.amount || 0, val2[idx]?.amount || 0]),\n\t])\n}\n\nexport default async (\n\tleftSelected: CFCStruct,\n\trightSelected: CFCStruct\n): Promise<pdfMake.TCreatedPdf> => {\n\tconst leftCalc = calculateInitial(leftSelected)\n\tconst rightCalc = calculateInitial(rightSelected)\n\n\tconst docDefinition: any = {\n\t\t...pageDefaultSettings(),\n\t\tcontent: [\n\t\t\tpageHeading(\"Canvas Comparison\"),\n\t\t\tpagePadding([\n\t\t\t\t{\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidth: [\"*\", \"*\", \"*\", \"*\", \"*\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\t\t{ text: canvasDisplayTitle(leftSelected), bold: true },\n\t\t\t\t\t\t\t\t{ text: canvasDisplayTitle(rightSelected), bold: true },\n\t\t\t\t\t\t\t\t{ text: \"$ Difference\", bold: true },\n\t\t\t\t\t\t\t\t{ text: \"% Difference\", bold: true },\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Opening balance\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftSelected.openingBalance,\n\t\t\t\t\t\t\t\t\trightSelected.openingBalance,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[{ text: \"Cash In\", colSpan: 5, bold: true }, \"\", \"\", \"\", \"\"],\n\t\t\t\t\t\t\t...renderRepeaterFields(\n\t\t\t\t\t\t\t\tleftSelected.cashInItems,\n\t\t\t\t\t\t\t\trightSelected.cashInItems\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"GST on sales\",\n\t\t\t\t\t\t\t\t...rowValue([leftCalc.gstOnSales, rightCalc.gstOnSales]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Total (exc GST)\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(leftSelected.cashInItems),\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(rightSelected.cashInItems),\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[{ text: \"Cash Out\", colSpan: 5, bold: true }, \"\", \"\", \"\", \"\"],\n\t\t\t\t\t\t\t...renderRepeaterFields(\n\t\t\t\t\t\t\t\tleftSelected.cashOutItems,\n\t\t\t\t\t\t\t\trightSelected.cashOutItems\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"GST on Purchases\",\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.gstOnPurchases,\n\t\t\t\t\t\t\t\t\trightCalc.gstOnPurchases,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Total (exc GST)\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(leftSelected.cashOutItems),\n\t\t\t\t\t\t\t\t\tcalcCashFlowTotal(rightSelected.cashOutItems),\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Cash Surplus\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([leftCalc.cashSurplus, rightCalc.cashSurplus]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Income/Outcome tax\",\n\t\t\t\t\t\t\t\t// TODO: Update to the correct income tax value\n\t\t\t\t\t\t\t\t...rowValue([leftSelected.incomeTax, rightSelected.incomeTax]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Available to spend\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.availableToSpend,\n\t\t\t\t\t\t\t\t\trightCalc.availableToSpend,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Cash to owner\",\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftSelected.cashToOwner,\n\t\t\t\t\t\t\t\t\trightSelected.cashToOwner,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Closing balance\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.closingBalance,\n\t\t\t\t\t\t\t\t\trightCalc.closingBalance,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\"Stock\", ...rowValue([leftSelected.stock, rightSelected.stock])],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Debtors\",\n\t\t\t\t\t\t\t\t...rowValue([leftSelected.debtors, rightSelected.debtors]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Assets\",\n\t\t\t\t\t\t\t\t...rowValue([leftSelected.assets, rightSelected.assets]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\"Creditors\",\n\t\t\t\t\t\t\t\t...rowValue([leftSelected.creditors, rightSelected.creditors]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\"Loans\", ...rowValue([leftSelected.loans, rightSelected.loans])],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{ text: \"Net position\", bold: true },\n\t\t\t\t\t\t\t\t...rowValue([\n\t\t\t\t\t\t\t\t\tleftCalc.totalNetAssets,\n\t\t\t\t\t\t\t\t\trightCalc.totalNetAssets,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t]),\n\t\t],\n\t\tstyles: {\n\t\t\tpageHeader: {\n\t\t\t\tfontSize: 20,\n\t\t\t\tbold: true,\n\t\t\t\tfillColor: green[\"800\"],\n\t\t\t\tcolor: \"white\",\n\t\t\t\talignment: \"center\",\n\t\t\t},\n\t\t},\n\t\tdefaultStyles: {\n\t\t\tfontSize: 15,\n\t\t\tbold: false,\n\t\t\tcolor: \"#000\",\n\t\t},\n\t}\n\n\treturn pdfMake.createPdf(docDefinition)\n}\n","import React, { ReactElement, useContext } from \"react\"\nimport PictureAsPdfIcon from \"@material-ui/icons/PictureAsPdf\"\nimport { List, ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport { useHistory, useLocation, useParams } from \"react-router-dom\"\nimport FormatListNumberedIcon from \"@material-ui/icons/FormatListNumbered\"\nimport GetAppIcon from \"@material-ui/icons/GetApp\"\nimport ExpandableNav from \"../ExpandableNav\"\nimport { PrivateRoutes } from \"../../util/routes/routes\"\nimport CopyCanvasTrigger from \"./CopyCanvasTrigger\"\nimport { ControlCompareLink } from \"../CFCCompare\"\nimport CFCUseCase from \"../../data/CFC/CFCLogic\"\nimport CashFlowCanvasPDF from \"../PDF/CashFlowCanvasPDF\"\nimport useCurrentClient from \"../../state/client/useCurrentClient\"\nimport CFCContext from \"../../state/CFC/context\"\nimport CFCComparePDF from \"../PDF/CFCComparePDF\"\nimport servePDF from \"../PDF/servePDF\"\n\n/**\n * Canvas page control panel component\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function ControlPanel(): ReactElement {\n\tconst history = useHistory()\n\tconst location = useLocation()\n\tconst { id: canvasId } = useParams()\n\tconst [currentClient] = useCurrentClient()\n\tconst { leftCompare, rightCompare } = useContext(CFCContext)\n\n\tconst goTo = (route: PrivateRoutes) => (): void => {\n\t\t// eslint-disable-next-line\n\t\thistory.push(route)\n\t}\n\n\tconst isNewPage = (): boolean => {\n\t\treturn location.pathname === PrivateRoutes.CFC\n\t}\n\n\tconst isCompare = (): boolean => {\n\t\treturn location.pathname === PrivateRoutes.CFCCompare\n\t}\n\n\tconst printPDF = async () => {\n\t\tif (canvasId && typeof canvasId === \"string\" && !isCompare()) {\n\t\t\tconst data = await CFCUseCase.findById(canvasId)\n\t\t\t// console.log(\"data\", canvasId, data)\n\t\t\tif (data === undefined) alert(\"no data\")\n\t\t\telse {\n\t\t\t\tconst pdf = await CashFlowCanvasPDF(\n\t\t\t\t\tcurrentClient?.name ?? \"Client\",\n\t\t\t\t\tdata\n\t\t\t\t)\n\t\t\t\tservePDF(pdf)\n\t\t\t}\n\t\t}\n\n\t\tif (isCompare()) {\n\t\t\tif (leftCompare && rightCompare) {\n\t\t\t\tconst pdf = await CFCComparePDF(leftCompare, rightCompare)\n\t\t\t\tservePDF(pdf)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<ExpandableNav reactourLabel=\"canvas-control-panel\">\n\t\t\t<List component=\"nav\" disablePadding>\n\t\t\t\t{!isNewPage() && !isCompare() && <CopyCanvasTrigger />}\n\t\t\t\t{(!isNewPage() || isCompare()) && (\n\t\t\t\t\t<ListItem button onClick={goTo(PrivateRoutes.CFC)}>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText>Create new Canvas</ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t\t{!isNewPage() && !isCompare() && (\n\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<GetAppIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText>Import data</ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t\t<ListItem button onClick={goTo(PrivateRoutes.CFCListing)}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<FormatListNumberedIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText>List of Canvasses</ListItemText>\n\t\t\t\t</ListItem>\n\t\t\t\t{!isCompare() && !isNewPage() && <ControlCompareLink />}\n\t\t\t\t{!isNewPage() && (\n\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<PictureAsPdfIcon />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText onClick={printPDF}>Generate PDF</ListItemText>\n\t\t\t\t\t</ListItem>\n\t\t\t\t)}\n\t\t\t</List>\n\t\t</ExpandableNav>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\n\nexport const CFC4QsTourContent = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">The Cash Flow Canvas</Typography>\n\t\t<Typography>\n\t\t\tVisualises your cash flow and makes it easy to see how your business is\n\t\t\tperforming against the Four Key Questions.\n\t\t</Typography>\n\t\t<br />\n\t\t<Typography>\n\t\t\tThis will help you understand your current position and identify any\n\t\t\timprovements that you could make in your business.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCCreateCanvas = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Create a Canvas</Typography>\n\n\t\t<Typography>\n\t\t\tFirst, you will create a custom name to help identify each Canvas, then\n\t\t\tchoose a Canvas type, time-frame and date range.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCFillingOutCanvas = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Filling out the Canvas</Typography>\n\n\t\t<Typography>\n\t\t\tYou can directly enter figures into the Canvas or import from a\n\t\t\tspreadsheet.\n\t\t</Typography>\n\t\t<Typography>\n\t\t\tThe simpler your Canvas, the easier it will be to understand the\n\t\t\trelationships between the key areas that will impact your cash flow.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCYourPosition = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Understanding your position</Typography>\n\n\t\t<Typography>\n\t\t\tEasily see if your business is getting ahead or falling behind.\n\t\t</Typography>\n\t</div>\n)\n\nexport const CFCControlPanel = (): ReactElement => (\n\t<div className=\"content-area\">\n\t\t<Typography variant=\"h6\">Control Panel</Typography>\n\n\t\t<Typography>\n\t\t\tHere you can open an existing Canvas, copy, delete, or create a new\n\t\t\tCanvas.\n\t\t</Typography>\n\t\t<br />\n\t\t<Typography>\n\t\t\tTo copy a Canvas, open the Canvas you would like to replicate and select\n\t\t\tthe Copy Canvas button in the Control Panel.\n\t\t</Typography>\n\t\t<Typography>\n\t\t\tThe Canvas list contains Canvasses you have previously developed\n\t\t</Typography>\n\t</div>\n)\n","import React, { ReactElement, useState, useEffect } from \"react\"\nimport Tour, { ReactourStep } from \"reactour\"\nimport { Button } from \"@material-ui/core\"\nimport { useLocation, useParams } from \"react-router-dom\"\nimport {\n\tdisableBodyScroll,\n\tenableBodyScroll,\n\tclearAllBodyScrollLocks,\n} from \"body-scroll-lock\"\nimport hasProperty from \"../../util/object/hasProperty\"\n\ntype PageTourProps = {\n\tsteps: ReactourStep[]\n}\n\nconst LSKey = \"react-tour-completed\"\n\n/**\n * Page tour component. Used to show highlighted areas with descriptive content\n *\n * @export\n * @param {PageTourProps} { steps }\n * @returns {ReactElement}\n */\nexport default function PageTour({ steps }: PageTourProps): ReactElement {\n\tconst location = useLocation()\n\tconst params = useParams()\n\n\tconst disableBody = (target: any): void => disableBodyScroll(target)\n\tconst enableBody = (target: any): void => enableBodyScroll(target)\n\n\tuseEffect(() => {\n\t\treturn (): void => clearAllBodyScrollLocks()\n\t}, [])\n\n\t/**\n\t * Strips off the beginning and ending \"/\"\n\t *\n\t * @returns {string}\n\t */\n\tconst stripPathname = (): string => location.pathname.replace(/^\\/|\\/$/g, \"\")\n\n\t/**\n\t * Gets the key of the current route\n\t *\n\t * @returns {string}\n\t */\n\tconst getRouteValue = (): string => {\n\t\tconst re = /\\/[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/gi\n\t\tconst path = stripPathname()\n\n\t\tif (Object.keys(params).length > 0 && path.match(re)) {\n\t\t\treturn path.replace(re, \"/:id\")\n\t\t}\n\n\t\treturn path\n\t}\n\n\t/**\n\t * Checks if the tour should be open by default\n\t *\n\t * @returns {boolean}\n\t */\n\tconst shouldBeOpen = (): boolean => {\n\t\tconst ls = window.localStorage.getItem(LSKey)\n\t\tif (!ls) return true\n\n\t\tconst json = JSON.parse(ls)\n\t\treturn !hasProperty(json, getRouteValue())\n\t}\n\n\tconst [open, setOpen] = useState(shouldBeOpen())\n\n\t/**\n\t * Sets the localstorage value for the tour key\n\t *\n\t * @param json\n\t */\n\tconst setLSValue = (json: {}): void => {\n\t\twindow.localStorage.setItem(LSKey, JSON.stringify(json))\n\t}\n\n\t/**\n\t * Closes the tour and sets the value to not open on return\n\t *\n\t */\n\tconst closeTour = (): void => {\n\t\tconst ls = window.localStorage.getItem(LSKey)\n\t\tconst json = !ls ? {} : JSON.parse(ls)\n\t\tsetLSValue({\n\t\t\t...json,\n\t\t\t[getRouteValue()]: true,\n\t\t})\n\t\tsetOpen(false)\n\t}\n\n\t/**\n\t * Opens the tour component\n\t */\n\tconst openTour = (): void => setOpen(true)\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"sr-only\">\n\t\t\t\t<Button onClick={openTour} id=\"start-a-tour\">\n\t\t\t\t\tStart tour\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t<Tour\n\t\t\t\tsteps={steps}\n\t\t\t\tisOpen={open}\n\t\t\t\tonRequestClose={closeTour}\n\t\t\t\tonAfterOpen={disableBody}\n\t\t\t\tonBeforeClose={enableBody}\n\t\t\t\tstartAt={0}\n\t\t\t/>\n\t\t</>\n\t)\n}\n","import React, { ReactElement } from \"react\"\nimport { Box } from \"@material-ui/core\"\nimport PayG from \"./PayG\"\nimport Spacer from \"../Spacer/Spacer\"\nimport Super from \"./Super\"\nimport { useInputWrapper } from \"./__config/styles\"\n\n/**\n * Prop definition for the EmployeeExpenses component\n *\n * @interface EmployeeExpensesProps\n */\ninterface EmployeeExpensesProps {\n\tpayg: number\n\tsuper: number\n\tonChange: InputChange\n}\n\n/**\n * Panel to display the employee expenses fields\n *\n * @export\n * @param {EmployeeExpensesProps} {\n * \tpayg,\n * \tsuper: superAmount,\n * \tonChange,\n * }\n * @returns {ReactElement}\n */\nexport default function EmployeeExpenses({\n\tpayg,\n\tsuper: superAmount,\n\tonChange,\n}: EmployeeExpensesProps): ReactElement {\n\tconst cls = useInputWrapper()\n\n\treturn (\n\t\t<Box className={`${cls.wrapper} ${cls.highlightLeft} ${cls.plain}`}>\n\t\t\t<PayG value={payg} onChange={onChange} />\n\t\t\t<Spacer />\n\t\t\t<Super value={superAmount} onChange={onChange} />\n\t\t</Box>\n\t)\n}\n","import React, { ReactElement, useState, useEffect, useCallback } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { formatDistance } from \"date-fns\"\n\n/**\n * Last Saved component props\n *\n * @interface LastSavedProps\n */\ninterface LastSavedProps {\n\tdate: Date\n}\n\n/**\n * Displays a message for how long ago the data was saved\n *\n * @export\n * @param {LastSavedProps} { date }\n * @returns {ReactElement}\n */\nexport default function LastSaved({ date }: LastSavedProps): ReactElement {\n\tconst getFormattedText = useCallback((): string => {\n\t\treturn formatDistance(date, new Date(), {\n\t\t\taddSuffix: true,\n\t\t\tincludeSeconds: true,\n\t\t})\n\t}, [date])\n\n\tconst [msg, setMsg] = useState(getFormattedText())\n\n\tuseEffect(() => {\n\t\tconst id = setInterval(() => {\n\t\t\tsetMsg(getFormattedText())\n\t\t}, 1000)\n\n\t\treturn (): void => clearInterval(id)\n\t}, [getFormattedText])\n\n\treturn (\n\t\t<Typography variant=\"overline\" color=\"textSecondary\">\n\t\t\tLast saved {msg}\n\t\t</Typography>\n\t)\n}\n","import React, {\n\tReactElement,\n\tuseState,\n\tuseCallback,\n\tuseMemo,\n\tuseEffect,\n\tuseContext,\n} from \"react\"\nimport { useFormik } from \"formik\"\nimport { Box, Button, Divider, Typography } from \"@material-ui/core\"\nimport { useParams } from \"react-router-dom\"\nimport { isEqual } from \"lodash-es\"\nimport { useMachine } from \"@xstate/react\"\nimport { BaseCFCStruct, CashFlow } from \"../../../data/_config/shape\"\nimport { calculateInitial } from \".\"\nimport {\n\tConfigPanel,\n\tOpeningBalance,\n\tCanvasTitle,\n\tCashSurplus,\n\tAvailableToSpend,\n\tCashBalance,\n\tIncomeTax,\n\tFallingBehind,\n\tRepeaterForm,\n} from \"../../CFC\"\nimport Spacer from \"../../Spacer/Spacer\"\nimport EmployeeExpenses from \"../../CFC/EmployeeExpenses\"\nimport {\n\tcalcCashFlowGST,\n\tcalcTotalCashOut,\n\tcalcCashFlowTotal,\n} from \"../../../state/CFC/accumulators\"\nimport createCashFlowItem from \"../../../state/CFC/createCashFlow\"\nimport { useInputWrapper } from \"../../CFC/__config/styles\"\nimport removeCashflowItem from \"./removeCashFlowItem\"\nimport { CanvasFormProps } from \"./__config/shape\"\nimport IfElseLoading from \"../../IfElseLoading\"\nimport useCurrentClient from \"../../../state/client/useCurrentClient\"\nimport CFCUseCase from \"../../../data/CFC/CFCLogic\"\nimport LastSaved from \"../../LastSaved\"\nimport fetchMachine from \"./__config/machine\"\nimport DataNotFound from \"../../CFC/DataNotFound\"\nimport useStyles from \"./__config/styles\"\nimport { SnackbarMsgData } from \"../../SnackbarMsg/SnackbarMsg\"\nimport SnackbarMsg from \"../../SnackbarMsg\"\nimport changeDate, { CanvasDateKeys } from \"./changeDate\"\nimport CFCContext from \"../../../state/CFC/context\"\nimport { CFCActionTypes } from \"../../../state/CFC/shape\"\nimport {\n\tcalcQuestionOne,\n\tcalcQuestionTwo,\n\tcalcQuestionThree,\n} from \"../../CFC/__config/utilities\"\n\n/**\n * Form used to edit a CFC\n *\n * @export\n * @param {CanvasFormProps} {\n * \tinitialValues,\n * \tcustomTitle,\n * }\n * @returns {ReactElement}\n */\nexport default function CanvasForm({\n\tinitialValues,\n\tcustomTitle,\n}: CanvasFormProps): ReactElement {\n\t// Styling classes\n\tconst cls = useInputWrapper()\n\tconst styles = useStyles()\n\t// #region State management\n\tconst [lastSaved, setLastSaved] = useState(new Date())\n\tconst { id: canvasId } = useParams()\n\tconst [currentClient] = useCurrentClient()\n\tconst [stateMachine, updateMachine] = useMachine(fetchMachine)\n\tconst {\n\t\tduplicateError,\n\t\tinvalidDateError,\n\t\tdispatch,\n\t\tcopyCanvasActive,\n\t} = useContext(CFCContext)\n\n\tconst { setFieldValue, handleChange, values, setValues } = useFormik<\n\t\tBaseCFCStruct\n\t>({\n\t\tinitialValues,\n\t\t// Submit is not used for this form\n\t\tonSubmit: (): void => {},\n\t})\n\tconst [previousValues, setPreviousValues] = useState(initialValues)\n\tconst [useCustomTitle, setUseCustomTitle] = useState(customTitle)\n\tconst calculated = useMemo(() => calculateInitial(values), [values])\n\n\tconst {\n\t\tcanvasTitle,\n\t\tcanvasType,\n\t\tcanvasTimeFrame,\n\t\tcanvasStartDate,\n\t\tcanvasEndDate,\n\t\topeningBalance,\n\t\tpaygWithholding,\n\t\tsuperAmount,\n\t\tincomeTax,\n\t\tcashToOwner,\n\t\tstock,\n\t\tcreditors,\n\t\tdebtors,\n\t\tassets,\n\t\tloans,\n\t\tcashInItems,\n\t\tcashOutItems,\n\t} = values\n\n\tconst cashInTotal = useMemo(() => calcCashFlowTotal(cashInItems), [\n\t\tcashInItems,\n\t])\n\tconst cashInGST = useMemo(() => calcCashFlowGST(cashInItems), [cashInItems])\n\tconst cashOutTotal = useMemo(() => calcTotalCashOut(values), [values])\n\tconst cashOutGST = useMemo(() => calcCashFlowGST(cashOutItems), [\n\t\tcashOutItems,\n\t])\n\n\tuseEffect(() => {\n\t\tif (!useCustomTitle) {\n\t\t\tsetFieldValue(\"canvasTitle\", \"\")\n\t\t}\n\t}, [useCustomTitle, setFieldValue])\n\n\tuseEffect(() => {\n\t\tdispatch({\n\t\t\ttype: CFCActionTypes.ChangeQuestionValues,\n\t\t\tpayload: {\n\t\t\t\tone: calcQuestionOne(calculated),\n\t\t\t\ttwo: calcQuestionTwo(\n\t\t\t\t\tcalculated,\n\t\t\t\t\tpaygWithholding,\n\t\t\t\t\tsuperAmount,\n\t\t\t\t\tcalculated.incomeTaxPercentage\n\t\t\t\t),\n\t\t\t\tthree: calcQuestionThree(\n\t\t\t\t\topeningBalance,\n\t\t\t\t\tcalculated,\n\t\t\t\t\tcalculated.incomeTaxPercentage\n\t\t\t\t),\n\t\t\t\tfour: undefined,\n\t\t\t},\n\t\t})\n\t}, [\n\t\tcalculated,\n\t\tpaygWithholding,\n\t\tsuperAmount,\n\t\tincomeTax,\n\t\topeningBalance,\n\t\tdispatch,\n\t])\n\t// #endregion\n\n\t// #region Fetch data on load\n\tconst fetchFormData = useCallback(async () => {\n\t\tif (currentClient?.id) {\n\t\t\tconst data = await CFCUseCase.findById(canvasId)\n\t\t\tif (data) {\n\t\t\t\tsetValues(data, false)\n\t\t\t\tsetPreviousValues(data)\n\t\t\t\tif (data.canvasTitle !== \"\") {\n\t\t\t\t\tsetUseCustomTitle(true)\n\t\t\t\t}\n\t\t\t\tupdateMachine(\"RESOLVE\")\n\t\t\t} else {\n\t\t\t\tupdateMachine(\"REJECT\")\n\t\t\t}\n\t\t}\n\t}, [currentClient, canvasId, updateMachine, setValues])\n\n\tuseEffect(() => {\n\t\tfetchFormData()\n\t}, [fetchFormData])\n\t// #endregion\n\n\t// #region Snackbar Setup\n\tconst [snackbar, setSnackbar] = useState<SnackbarMsgData>({\n\t\topen: false,\n\t\tmsg: \"\",\n\t})\n\n\t/**\n\t * Opens the snackbar\n\t *\n\t * @param {SnackbarMsgData[\"msg\"]} msg\n\t * @param {SnackbarMsgData[\"severity\"]} severity\n\t */\n\tfunction showSnackbar(\n\t\tmsg: SnackbarMsgData[\"msg\"],\n\t\tseverity: SnackbarMsgData[\"severity\"]\n\t): void {\n\t\tsetSnackbar({ ...snackbar, msg, severity, open: true })\n\t}\n\n\t/**\n\t * Handles closing the snackbar\n\t *\n\t * @param {React.SyntheticEvent} [event]\n\t * @param {string} [reason]\n\t */\n\tfunction handleSnackbarClose(\n\t\tevent?: React.SyntheticEvent,\n\t\treason?: string\n\t): void {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn\n\t\t}\n\n\t\tsetSnackbar({ ...snackbar, open: false })\n\t}\n\t// #endregion\n\n\t// #region Save canvas data\n\tconst disableSaving = useCallback((): boolean => {\n\t\treturn (\n\t\t\tinvalidDateError ||\n\t\t\tduplicateError ||\n\t\t\t(useCustomTitle && canvasTitle === \"\")\n\t\t)\n\t}, [invalidDateError, duplicateError, useCustomTitle, canvasTitle])\n\n\tconst handleFormSave = useCallback(async () => {\n\t\tawait CFCUseCase.update(canvasId, values)\n\t\tsetPreviousValues(values)\n\t\tsetLastSaved(new Date())\n\t}, [canvasId, values])\n\n\tuseEffect(() => {\n\t\tconst id = setInterval(async () => {\n\t\t\tif (!isEqual(previousValues, values) && !disableSaving()) {\n\t\t\t\thandleFormSave()\n\t\t\t}\n\t\t}, 1000)\n\n\t\treturn (): void => clearInterval(id)\n\t}, [previousValues, values, handleFormSave, disableSaving])\n\n\t/**\n\t * Manually triggers a Canvas save\n\t *\n\t * @param {MouseButtonEvent} e\n\t */\n\tfunction handleManualSave(e: MouseButtonEvent): void {\n\t\te.preventDefault()\n\t\thandleFormSave()\n\t\tshowSnackbar(\"Canvas saved\", \"success\")\n\t}\n\t// #endregion\n\n\t// #region Form Change events\n\t/**\n\t * A custom change handler for the datepicker\n\t *\n\t * @template K\n\t * @param {K} k\n\t * @param {BaseCFCStruct[K]} v\n\t */\n\tconst changeDateValue = (k: CanvasDateKeys, v: Date): void => {\n\t\tconst { canvasStartDate: start, canvasEndDate: end } = changeDate<\n\t\t\tBaseCFCStruct\n\t\t>(k, v, values)\n\n\t\t// Sets the field value\n\t\tsetFieldValue(\"canvasStartDate\", start, false)\n\t\tsetFieldValue(\"canvasEndDate\", end, false)\n\t}\n\n\tuseEffect(() => {\n\t\tchangeDateValue(\"canvasStartDate\", canvasStartDate)\n\t}, [canvasTimeFrame, canvasStartDate])\n\n\tconst inputChange = useCallback(handleChange, [])\n\t// #endregion\n\n\t// #region Repeater form functionality\n\t/**\n\t * Appends a new item to the form\n\t *\n\t * @param {\"cashInItems\" | \"cashOutItems\"} key\n\t */\n\tconst addCashFlowItem = useCallback(\n\t\t(key: \"cashInItems\" | \"cashOutItems\") => (): void => {\n\t\t\tconst items = values[key]\n\t\t\tsetFieldValue(key, items.concat(createCashFlowItem()), false)\n\t\t},\n\t\t[setFieldValue, values]\n\t)\n\n\t/**\n\t * Removes an item from the form\n\t *\n\t * @param {\"cashInItems\" | \"cashOutItems\"} key\n\t * @param {CashFlow[\"id\"]} id\n\t */\n\tconst removeItem = useCallback(\n\t\t(key: \"cashInItems\" | \"cashOutItems\") => (id: CashFlow[\"id\"]): void => {\n\t\t\tsetFieldValue(key, removeCashflowItem(id, values[key]), false)\n\t\t},\n\t\t[values, setFieldValue]\n\t)\n\t// #endregion\n\n\t// Renders the no data found component when in the \"failure\" state\n\tif (stateMachine.value === \"failure\") {\n\t\treturn <DataNotFound />\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div data-reactour=\"create-a-canvas\">\n\t\t\t\t<CanvasTitle\n\t\t\t\t\ttype={canvasType}\n\t\t\t\t\ttimeframe={canvasTimeFrame}\n\t\t\t\t\tstartDate={canvasStartDate}\n\t\t\t\t\tendDate={canvasEndDate}\n\t\t\t\t\tcustomTitle={canvasTitle}\n\t\t\t\t\tuseCustomTitle={useCustomTitle}\n\t\t\t\t/>\n\t\t\t\t<ConfigPanel\n\t\t\t\t\tcanvasTypeValue={canvasType}\n\t\t\t\t\tcanvasTimeframeValue={canvasTimeFrame}\n\t\t\t\t\tonChange={inputChange}\n\t\t\t\t\tstartDate={canvasStartDate}\n\t\t\t\t\tendDate={canvasEndDate}\n\t\t\t\t\tonDateChange={changeDateValue}\n\t\t\t\t\tcustomTitle={canvasTitle}\n\t\t\t\t\tchangeCheck={(e: InputChange): void => {\n\t\t\t\t\t\tsetUseCustomTitle(e.target.checked)\n\t\t\t\t\t}}\n\t\t\t\t\tuseCustomTitle={useCustomTitle}\n\t\t\t\t\tshowDuplicateError={!copyCanvasActive}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<IfElseLoading if={stateMachine.value !== \"loading\"}>\n\t\t\t\t<Spacer />\n\t\t\t\t<div data-reactour=\"cfc-filling-out-the-canvas\">\n\t\t\t\t\t<OpeningBalance value={openingBalance} onChange={inputChange} />\n\t\t\t\t\t<Spacer />\n\t\t\t\t\t<Box className={cls.wrapper}>\n\t\t\t\t\t\t<Typography variant=\"h6\">Cash IN</Typography>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tCash received, or revenue, including GST (if applicable). This may\n\t\t\t\t\t\t\tbe for services or sales. See Change Levers for ideas on how to\n\t\t\t\t\t\t\timprove your Cash IN.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Spacer space={3} />\n\t\t\t\t\t\t<RepeaterForm\n\t\t\t\t\t\t\tname=\"cashInItems\"\n\t\t\t\t\t\t\tvalues={cashInItems}\n\t\t\t\t\t\t\tonChange={inputChange}\n\t\t\t\t\t\t\ttotal={cashInTotal}\n\t\t\t\t\t\t\tgst={cashInGST}\n\t\t\t\t\t\t\taddItem={addCashFlowItem(\"cashInItems\")}\n\t\t\t\t\t\t\tremoveItem={removeItem(\"cashInItems\")}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Spacer />\n\t\t\t\t\t<Box className={cls.wrapper}>\n\t\t\t\t\t\t<Typography variant=\"h6\">Cash OUT</Typography>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\tAll expenses, including GST (if applicable). See Change Levers for\n\t\t\t\t\t\t\tideas on how to reduce your Cash OUT.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Spacer space={3} />\n\t\t\t\t\t\t<RepeaterForm\n\t\t\t\t\t\t\tname=\"cashOutItems\"\n\t\t\t\t\t\t\tvalues={cashOutItems}\n\t\t\t\t\t\t\tonChange={inputChange}\n\t\t\t\t\t\t\ttotal={cashOutTotal}\n\t\t\t\t\t\t\tgst={cashOutGST}\n\t\t\t\t\t\t\taddItem={addCashFlowItem(\"cashOutItems\")}\n\t\t\t\t\t\t\tremoveItem={removeItem(\"cashOutItems\")}\n\t\t\t\t\t\t\tbeforeTotalChild={(): ReactElement => (\n\t\t\t\t\t\t\t\t<EmployeeExpenses\n\t\t\t\t\t\t\t\t\tpayg={paygWithholding}\n\t\t\t\t\t\t\t\t\tsuper={superAmount}\n\t\t\t\t\t\t\t\t\tonChange={inputChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t</div>\n\t\t\t\t<Spacer />\n\t\t\t\t<CashSurplus value={`${calculated.cashSurplus}`} />\n\t\t\t\t<Spacer />\n\t\t\t\t<IncomeTax\n\t\t\t\t\tvalue={incomeTax}\n\t\t\t\t\tonChange={inputChange}\n\t\t\t\t\tcalculated={calculated.incomeTaxPercentage}\n\t\t\t\t/>\n\t\t\t\t<Spacer />\n\t\t\t\t<AvailableToSpend value={`${calculated.availableToSpend}`} />\n\t\t\t\t<Spacer />\n\t\t\t\t<div data-reactour=\"cfc-your-position\">\n\t\t\t\t\t<CashBalance\n\t\t\t\t\t\tcashToOwner={cashToOwner}\n\t\t\t\t\t\tonChange={inputChange}\n\t\t\t\t\t\tclosingBalance={calculated.closingBalance}\n\t\t\t\t\t/>\n\t\t\t\t\t<Spacer />\n\t\t\t\t\t<FallingBehind\n\t\t\t\t\t\tstock={stock}\n\t\t\t\t\t\tcreditors={creditors}\n\t\t\t\t\t\tdebtors={debtors}\n\t\t\t\t\t\tassets={assets}\n\t\t\t\t\t\tloans={loans}\n\t\t\t\t\t\ttotalNetAssets={calculated.totalNetAssets}\n\t\t\t\t\t\tonChange={inputChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Spacer space={4} />\n\t\t\t\t<Divider />\n\t\t\t\t<Spacer />\n\t\t\t\t<Box className={styles.box}>\n\t\t\t\t\t<LastSaved date={lastSaved} />\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={handleManualSave}\n\t\t\t\t\t\tclassName={styles.saveButton}\n\t\t\t\t\t\tdisabled={disableSaving()}\n\t\t\t\t\t>\n\t\t\t\t\t\tSave canvas\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</IfElseLoading>\n\t\t\t{/* eslint-disable-next-line react/jsx-props-no-spreading */}\n\t\t\t<SnackbarMsg {...snackbar} onClose={handleSnackbarClose} />\n\t\t</>\n\t)\n}\n","import { CashFlow } from \"../../../data/_config/shape\"\nimport filterById from \"../../../util/filters/ById\"\n\n/**\n * Removes to resets a cash flow item\n *\n * @export\n * @param {CashFlow[\"id\"]} id\n * @param {CashFlow[]} values\n * @returns {CashFlow[]}\n */\nexport default function removeCashflowItem(\n\tid: CashFlow[\"id\"],\n\tvalues: CashFlow[]\n): CashFlow[] {\n\tif (values.length === 1) {\n\t\treturn [\n\t\t\t{\n\t\t\t\tid: values[0].id,\n\t\t\t\tdescription: \"\",\n\t\t\t\tamount: 0,\n\t\t\t\tgstApplicable: true,\n\t\t\t},\n\t\t]\n\t}\n\treturn values.filter(filterById(id, true))\n}\n","import React, { ReactElement, useContext } from \"react\"\nimport { Grid } from \"@material-ui/core\"\nimport { useLocation } from \"react-router-dom\"\nimport qs from \"qs\"\nimport { toDate } from \"date-fns\"\nimport { ReactourStep } from \"reactour\"\nimport { PageContainer } from \"../../components/Layouts\"\nimport CanvasForm from \"../../components/Forms/CFC/CanvasForm\"\nimport PageTip from \"../../components/PageTip\"\nimport {\n\tBaseCFCStruct,\n\tCanvasType,\n\tCFCTimeFrame,\n} from \"../../data/_config/shape\"\nimport { initialValues } from \"../../components/Forms/CFC\"\nimport ControlPanel from \"../../components/CFC/ControlPanel\"\nimport CFCContext from \"../../state/CFC/context\"\nimport { CFCFourQuestions } from \"../../components/CFC\"\nimport {\n\tCFC4QsTourContent,\n\tCFCCreateCanvas,\n\tCFCFillingOutCanvas,\n\tCFCYourPosition,\n\tCFCControlPanel,\n} from \"../../components/CFC/__config/constants\"\nimport PageTour from \"../../components/PageTour\"\n\nconst steps: ReactourStep[] = [\n\t{\n\t\tselector: \"[data-reactour='cfc-four-questions']\",\n\t\tcontent: CFC4QsTourContent,\n\t},\n\t{\n\t\tselector: \"[data-reactour='create-a-canvas']\",\n\t\tcontent: CFCCreateCanvas,\n\t},\n\t{\n\t\tselector: \"[data-reactour='cfc-filling-out-the-canvas']\",\n\t\tcontent: CFCFillingOutCanvas,\n\t},\n\t{\n\t\tselector: \"[data-reactour='cfc-your-position']\",\n\t\tcontent: CFCYourPosition,\n\t},\n\t{\n\t\tselector: \"[data-reactour='canvas-control-panel']\",\n\t\tcontent: CFCControlPanel,\n\t},\n]\n\ntype QueryParams = {\n\ttitle?: string\n\tuseCustom?: string\n\ttype?: CanvasType\n\ttimeFrame?: CFCTimeFrame\n\tstartDate?: string\n\tendDate?: string\n}\n\n/**\n * Edit a exisiting CFC\n *\n * @export\n * @returns {ReactElement}\n */\nexport default function CanvasEdit(): ReactElement {\n\tconst location = useLocation()\n\tconst v: QueryParams = qs.parse(location.search, { ignoreQueryPrefix: true })\n\tconst { questionValues } = useContext(CFCContext)\n\n\t// Construct the initial data based on the query string values\n\tconst initial: BaseCFCStruct = {\n\t\t...initialValues,\n\t\tcanvasTitle: v.title || initialValues.canvasTitle,\n\t\tcanvasType: v.type || initialValues.canvasType,\n\t\tcanvasTimeFrame: v.timeFrame || initialValues.canvasTimeFrame,\n\t\tcanvasStartDate: v.startDate\n\t\t\t? toDate(parseInt(v.startDate, 10))\n\t\t\t: initialValues.canvasStartDate,\n\t\tcanvasEndDate: v.endDate\n\t\t\t? toDate(parseInt(v.endDate, 10))\n\t\t\t: initialValues.canvasEndDate,\n\t}\n\n\t/**\n\t * Checks if the form is using a custom title or not\n\t *\n\t * @returns {boolean}\n\t */\n\tfunction useCustom(): boolean {\n\t\tconst use = v.useCustom\n\t\tif (typeof use === \"undefined\") {\n\t\t\tif (typeof v.title === \"undefined\" || v.title === \"\") {\n\t\t\t\treturn false\n\t\t\t\t// eslint-disable-next-line no-else-return\n\t\t\t} else {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\n\t\treturn use !== \"0\"\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PageContainer maxWidth=\"lg\">\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12} md={9}>\n\t\t\t\t\t\t<CanvasForm initialValues={initial} customTitle={useCustom()} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t\t<CFCFourQuestions values={questionValues} />\n\t\t\t\t\t\t<ControlPanel />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</PageContainer>\n\t\t\t<PageTip tip=\"CFCanvasTip\" />\n\n\t\t\t<PageTour steps={steps} />\n\t\t</>\n\t)\n}\n"],"sourceRoot":""}