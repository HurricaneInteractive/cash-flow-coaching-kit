(this["webpackJsonpdcfck-app"]=this["webpackJsonpdcfck-app"]||[]).push([[34],{1384:function(e,t,a){"use strict";var n=a(1),c=a(3),r=a(0),l=(a(10),a(4)),i=a(8),s=r.forwardRef((function(e,t){var a=e.classes,i=e.className,s=Object(c.a)(e,["classes","className"]);return r.createElement("div",Object(n.a)({className:Object(l.default)(a.root,i),ref:t},s))}));s.muiName="ListItemSecondaryAction",t.a=Object(i.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(s)},1759:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(735),l=a(74),i=a(770),s=a(334),o=a(17),u=a.n(o),m=a(28),f=a(13),d=a(783),h=a(761),p=a(878),b=a(730),v=a(39),E=a(376),y=a.n(E),j=a(244),O=a(102),C=a(12),k=a(268),w=Object(k.a)({key:"hc_listing_machine",initial:"loading",states:{loading:{on:{IS_EMPTY:"empty",HAS_ITEMS:"hasItems"}},empty:{},hasItems:{on:{IS_EMPTY:"empty"}}}}),g=function(){return c.a.createElement(p.a,null,c.a.createElement(l.a,{variant:"h6"},"No Health Checks have been found"),c.a.createElement(l.a,null,"Check that you have the correct"," ",c.a.createElement(v.b,{to:C.a.ClientList},"client selected")," or"," ",c.a.createElement(v.b,{to:Object(C.c)(C.a.HealthCheckQuiz,[[":id?",""]])},"start a new Health Check"),"."))},S=a(759),I=a(732),M=a(780),H=a(1384),N=a(331),z=a(859),_=a(907),T=a.n(_),x=a(797),A=a(307);function P(e){var t=e.goTo;return c.a.createElement(x.a,{title:"View"},c.a.createElement(A.a,{component:v.b,to:t},c.a.createElement(T.a,null),c.a.createElement("span",{className:"MuiTypography-srOnly"},"View resutls")))}var V=function(e){var t=e.clientQuizzes,a=e.removeHealthCheck,r=Object(n.useCallback)((function(e){return function(t){t.preventDefault(),a(e)}}),[a]);return c.a.createElement(S.a,null,t.map((function(e){return c.a.createElement(I.a,{key:e.id,className:"list-item-padded"},c.a.createElement(M.a,{primary:"Completed Health Check",secondary:!!e.createdAt&&Object(N.a)(e.createdAt,"dd/MM/yyyy hh:mm a")}),c.a.createElement(H.a,null,c.a.createElement(P,{goTo:Object(C.c)(C.a.HealthCheckSummary,[[":id","".concat(e.id)]])}),c.a.createElement(z.a,{onClick:r(e.id||"")})))})))},Y=a(172),L=a(139),Q=Object(L.a)((function(){return{actions:{display:"flex",justifyContent:"flex-end",alignItems:"center"}}})),B=a(853),D=a(79),F=function(){var e=Object(j.useMachine)(w),t=Object(f.a)(e,2),a=t[0],r=t[1],l=Object(n.useContext)(O.a),i=l.state,s=i.currentClient,o=i.lastViewedHC,E=l.dispatch,k=Object(n.useState)([]),S=Object(f.a)(k,2),I=S[0],M=S[1],H=Q();Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.findClientHealthChecks(t);case 2:0===(a=e.sent).length?r("IS_EMPTY"):(M(a),r("HAS_ITEMS"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(null===s||void 0===s?void 0:s.id){if(!s)return void r("IS_EMPTY");e(s.id)}}),[s,r]);var N=function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.a.delete(t);case 3:e.sent>0&&(null!==o&&"".concat(t)==="".concat(o)&&E({type:D.a.UpdateLastViewedHC,payload:null}),0===(a=I.filter((function(e){return e.id!==t}))).length&&r("IS_EMPTY"),M(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.stack||e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(d.a,null,function(){switch(a.value){case"empty":return c.a.createElement(g,null);case"hasItems":return c.a.createElement(V,{clientQuizzes:I,removeHealthCheck:N});case"loading":default:return c.a.createElement(Y.a,null)}}(),c.a.createElement(h.a,null),c.a.createElement(p.a,{className:H.actions},c.a.createElement(b.a,{startIcon:c.a.createElement(y.a,null),size:"medium",component:v.b,to:Object(C.c)(C.a.HealthCheckQuiz,[[":id?",""]]),color:"primary",variant:"contained"},"Start a new health check")))},J=a(831),R=a(68);t.default=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,null,c.a.createElement(J.a,{component:"h1"},"Saved Health Checks"),c.a.createElement(r.a,{className:"content-area"},c.a.createElement(l.a,null,"Use your previous health checks to review your progress."),c.a.createElement(l.a,null,"View your past results by selecting from the list below.")),c.a.createElement(R.a,{space:3}),c.a.createElement(i.a,{item:!0,sm:6},c.a.createElement(F,null))))}},831:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(110),c=a(0),r=a.n(c),l=a(74),i=a(36),s=a(139),o=Object(s.a)((function(e){return{title:Object(i.a)({fontWeight:500,marginBottom:e.spacing(2)},e.breakpoints.down("sm"),{fontSize:e.typography.h5.fontSize})}})),u=function(e){var t=e.children,a=e.className,c=Object(n.a)(e,["children","className"]),i=o();return r.a.createElement(l.a,Object.assign({variant:"h4",color:"textPrimary",className:"".concat(i.title," ").concat(a)},c),t)}},853:function(e,t,a){"use strict";var n=a(50),c=a(56),r=a(58),l=a(57),i=a(120),s=a(212),o=new(function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.call(this,s.a,s.a.healthChecks)}return Object(c.a)(a,[{key:"findByClientId",value:function(e,t){var a=this;return this.database.transaction("r",this.table.name,(function(){return a.table.where({id:e,clientId:t}).first()}))}},{key:"findClientHealthChecks",value:function(e){var t=this;return this.database.transaction("r",this.table.name,(function(){return t.table.where("clientId").equals(e).toArray()}))}}]),a}(i.a));t.a=o},859:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(13),c=a(0),r=a.n(c),l=a(387),i=a(390);function s(e){var t=e.onClick,a=Object(c.useState)(!1),s=Object(n.a)(a,2),o=s[0],u=s[1];function m(){u(!1)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{onClick:function(e){e.preventDefault(),u(!0)}}),r.a.createElement(i.a,{open:o,onClose:m,onCancel:m,onConfirm:function(e){t(e),m()}},"Are you sure you want to remove this item?"))}},878:function(e,t,a){"use strict";var n=a(1),c=a(3),r=a(0),l=(a(10),a(4)),i=a(8),s=r.forwardRef((function(e,t){var a=e.classes,i=e.className,s=e.component,o=void 0===s?"div":s,u=Object(c.a)(e,["classes","className","component"]);return r.createElement(o,Object(n.a)({className:Object(l.default)(a.root,i),ref:t},u))}));t.a=Object(i.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(s)},907:function(e,t,a){"use strict";var n=a(55);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),r=(0,n(a(64)).default)(c.default.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=r}}]);
//# sourceMappingURL=34.f2b5b797.chunk.js.map